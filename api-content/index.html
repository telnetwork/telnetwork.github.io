{"posts":[{"title":"TCP_IP 元组","content":"TCP/IP 的四元组、五元组、七元组 四元组： 源 IP、目的 IP、源端口、目的端口 五元组： 源 IP、目的 IP、协议号、源端口、目的端口 七元组： 源 IP、目的 IP、协议号、源端口、目的端口，服务类型以及接口索引 ","link":"https://telnetwork.github.io/E7bsHAxU0/"},{"title":"vi中删除空格","content":"删除文件中空行 :%g/^$/d :%g/^\\s\\+$/d :%g/^\\s*$/d // 删除所有的使用这个就好 删除文件行首的所有空格 :%s/^ *//g 删除文件行尾的所有空格 :%s/ *$//g 删除文件行首的所有空格+TAB :%s/^\\s\\+//g or :%s/^\\s*//g 删除文件行尾的所有空格+TAB :%s/\\s\\+$//g or :%s/\\s\\*$//g 将当前文件中的TAB,替换成4个空格 :set expandtab :%ret! 4 TAB转换4个空格，写入vimrc 中，永久生效 set tabstop=4 set expandtab 空格转换为TAB :set ts=4 :set noexpandtab :%retab! 空格：\\s ts == tabstop 加!：用于处理非空白字符之后的 TAB，即所有的 TAB 不加!：则只处理行首的 TAB 指定范围行的前面加 3 个空格 :100,102 s/^/ / 在当前光标所在行，及下面5行的前面写入xxx :.,5 s/^/xxx/ ","link":"https://telnetwork.github.io/NiZXZ5Ihn/"},{"title":"Docker 加速","content":"vim /etc/docker/daemon.json 阿里云 { &quot;registry-mirrors&quot;: [&quot;https://35iiwrch.mirror.aliyuncs.com&quot;] } 腾讯云 { &quot;registry-mirrors&quot;: [&quot;https://mirror.ccs.tencentyun.com&quot;] } 重启Docker服务 systemctl daemon-reload systemctl restart docker ","link":"https://telnetwork.github.io/WoYbBmrB_/"},{"title":"休息休息","content":"吃饱了，才有力气睡觉 ","link":"https://telnetwork.github.io/t1awMY7Y9/"},{"title":"《疯娘》","content":" 作者：王恒绩 此文被评为全国 “敬老好文章” 全国一等奖，并被编入了大学语文，同时被海内外五六十家影视公司抢购影视版权，还被翻译成了 40 多国文字。 01 我们全家至今都不知娘是哪里人，叫什么名字，为什么疯了？ 23 年前，有个年青的女子流落到我们村，她衣衫褴褛，蓬头垢面，见人就傻笑，且毫不避讳地当众小便，村里一些男人也就常围着她转。 因此，村里的媳妇们常对着那女子吐口水，有的媳妇还上前踹她几脚，叫她 “滚远些”。 可她就是不走，依然傻笑着在村里转悠。 那时，我父亲已有 35 岁，他曾在石料场被机器绞断了左手而截肢，又因家穷，一直没能娶亲。 奶奶见那女子还有几分长相，就动了心思，围着那疯女人转了三圈， 点点头说：“嗯，不错，一看就能生娃。” 奶奶决定收下她给我父亲做媳妇，等她给我家传个香火后，再看情况是否把她撵走。父亲虽老大不情愿，但看着家里这番光景，咬咬牙还是答应了。结果，父亲一分钱未花，就当了新郎。 不用说，这女子后来就成了我的亲娘。 02 生我的时候，娘疼得死去活来，“嗷嗷” 乱叫。 奶奶在房里点了三柱香，念了半天祷告。 然后，两个接生婆一左一右夹住娘，强行让娘双手扒在梯档上，双腿下蹲，娘胯下还放着一个木制大脚盆，里面放着好几刀草纸和软布。 接生婆不管娘能不能领会她们的意思，一个劲地叮嘱娘：“用劲，再用劲。用劲呀，疯婆娘……” 这场生产耗时 7 个多小时，娘就那么扒在梯档上 “挂” 了 7 小时。 当娘胯下终于传来我响亮的啼哭声时，两个老天八地的接生婆累得瘫在地上动弹不得，还是奶奶为我剪的脐带。 而被接生婆管制了 7 小时的娘也因获得了解放而大哭起来。 奶奶抱着我，瘪着没剩几颗牙的嘴欣喜地说：“这疯婆娘，还给我生了个带把的孙子。” 奶奶用一瓦罐母鸡汤犒劳了娘。那天，娘少有地、安安静静地偎坐在床上，被子上面搁着个小盆，奶奶端着海大一碗鸡汤给娘说：“好好拿着， 别泼了。骨头渣吐在这个盆子里，听见没有？要不听话，我就打你。” 奶奶半恐吓半认真地说。 娘接过鸡汤，居然点了点头。她抓起一只鸡腿，啃得满嘴流油。娘还真听话，将鸡骨头规规矩矩地吐在盆子里。那一大碗汤她吃得精光。 03 只是，我一生下来，奶奶就把我抱走了，而且从不让娘拢边。 不怪奶奶绝情，我们村曾发生过这样一起惨剧：有个女人嫁给我们村的一个单身汉，女人虽不是疯子，却是弱智。生下一个儿子后，竟在夜里睡觉时翻身压死了儿子，女人被男方暴打一顿后，撵出了门。 有这样的例子在前，奶奶岂敢大意？娘一直想抱抱我，多次在奶奶面前吃力地喊：“给，给我……” 奶奶没理她。我那么小，像个肉嘟嘟，万一娘失手把我丢在地上怎么办？毕竟，娘是个疯子。 每当娘有抱我的请求时，奶奶总竖起眼睛训她：“你别想抱孩子了，我不会给你的。要是我发现你偷抱了他，我就打死你。即使不打死，我也要把你撵走。” 奶奶说这话时，没有半点含糊的意思。 娘听懂了，满面的惶恐，每次只是远远地看我。尽管娘的奶水胀得厉害，可我没能吃到娘的半口奶水，是奶奶一匙一匙把我喂大的。 原来，奶奶说娘的奶水里有 “神经病”，要是传染给我就麻烦了。 04 这个疯子娘我不要了那时，我家依然在贫困的泥沼里挣扎。特别是添了娘和我后，家里常常揭不开锅。奶奶决定把娘撵走，因为娘不但在家吃 “闲饭”，时不时还惹事生非。 一天，奶奶煮了一大锅饭，亲手给娘添了一大碗，说：“媳妇儿，这个家太穷了，婆婆对不起你。你吃完这碗饭，就去找个富点的人家过，以后也不准来了，啊？” 娘刚扒了一大团饭在口里，听了奶奶下的 “逐客令”，显得非常吃惊，一团饭就在口里凝滞了。 娘望着奶奶怀中的我，口齿不清地哀叫：“不，不要……” 奶奶猛地沉下脸，一下拿出威严的家长作风厉声吼道：“你个疯婆娘，犟什么犟，犟下去没你的好果子吃。你本来就是到处流浪的，我收留了你一两年，你还要怎么样？吃碗饭就走，听见没有？” 奶奶从门后拿出一柄挖锄，像佘太君的龙头杖似的往地上重重一磕，“咚” 地发出一声沉闷的暗响。 娘吓了一大跳，怯怯地看看婆婆，又慢慢低下头去看面前的饭碗，有泪水当当地落在白花花的米饭上。 在奶奶的逼视下，娘突然有个很奇怪的举措，她将碗中的饭分了一大半给另一只空碗，然后可怜巴巴地看着奶奶。 奶奶呆了，原来，娘是向奶奶表态，每餐只吃半碗饭，只求别赶她走。奶奶的心仿佛被人狠狠揪了几把，奶奶也是女人，她的强硬态度也是装出来的。 奶奶别过头，生生地将热泪憋了回去，然后重新板起脸说：“快吃快吃，吃了快走。在我家你会饿死的。” 娘似乎绝望了，连那半碗饭也没吃，踉踉跄跄地出了门，却长时间站在门前不走。奶奶硬着心肠说：“你走你走，不要回头。天底下富裕家多着哩！” 娘反而走拢来，一双手伸向婆婆怀里，原来，娘想抱抱我。 奶奶犹豫了一下，还是将襁褓中的我递给了娘。 娘第一次将我搂在怀里，咧开嘴笑了，笑得春风满面。奶奶却如临大敌，两手在娘身下接着，生怕娘的疯劲一上来，将我像扔垃圾一样丢掉。 娘抱我的时间不足 3 分钟，奶奶便迫不及待地将我夺过去，然后转身进屋关门… 05 娘终于走了，可走了娘的家还是没法走出贫困。我家依然过着 “日愁三餐，夜愁一宿” 的生活。 当然，这些我记忆之前的故事都是奶奶告诉我的。 当我懵懵懂懂地晓事时，我才发现，除了我，别的小伙伴都有娘。我找父亲要，找奶奶要，他们说，你娘死了。可小伙伴却告诉我：“你娘是个疯子，被你奶奶赶走了。” 我便找奶奶扯皮，要她还我娘，还骂她是 “狼外婆”，甚至将她端给我的饭菜泼了一地。 奶奶生平第一次打了我，还万般委屈地抹起了泪：“小兔崽子，你娘除了生你，什么都没干，都是奶奶把你拉扯大的。你倒好，恩将仇报。早知道，就让你那疯子娘把你一起带走。” 那时我还没有 “疯” 的概念，只知道非常思念娘，她长什么样，还活着吗？ 没想到，在我六岁那年，离家 5 年的娘居然回了。 06 那天，几个小伙伴飞也似地跑来给我报信：“小树，快去看，你娘回了，你的疯子娘回了。” 我喜得屁颠屁颠的，撒腿就往外跑，父亲和奶奶跟随着我追出来了。 这是我有了记忆后第一次看到娘。她还是破衣烂衫，头发上还有些枯黄的碎草末，天知道是在哪个草堆里过的夜。 娘不敢进家门，却面对着我家，坐在村前稻场的石磙上，手里还拿着个脏兮兮的气球。 当我和一群小伙伴站在她面前时，她急切地从我们中间搜寻她的儿子，娘终于盯着我，死死地盯住我，咧着嘴叫我：“小树…… 球…… 球……” 娘站起身，不停地扬着手中的气球，讨好地往我怀里塞。 我却一个劲地往后退。我大失所望，没想到我日思夜想的娘居然是这样一副形象。早知道疯子娘是这个样子，我思念她干啥？ 一个小伙伴在一旁起哄说：“小树，你现在知道疯子是什么样吧？就是你娘这样的。” 我气愤地对小伙伴说：“她是你娘！你娘才是疯子，你娘才是这个样子。” 我扭头就走了。这个疯子娘我不要了。 出人意料，奶奶和父亲却把娘领进了门。当年，奶奶撵走娘后，乡亲们议论很多，奶奶的良心受到了拷问，随着一天天衰老，她的心再也硬不起来，所以主动留下了娘，而我老大不乐意，娘丢了我的面子。 这是我会说话以来第一次喊娘，我从没给娘好脸色看，从没跟她主动说过话，更别想我喊她一声 “娘”，我们之间的交流是以我 “吼” 为主，娘是绝不敢顶嘴的。 家里不能白养着娘。奶奶决定训练娘做些杂活，下地劳动时，奶奶就带娘出去 “观摩”，说不听话就要挨打。 虽然真要打起来，奶奶远远不是娘的对手，可娘对奶奶噤若寒蝉，娘再疯，也知道这个头发花白、走路蹒跚的婆婆操纵着自己的 “生杀大权”，千万惹不得。 奶奶叫娘割草，她就割草；叫她捡柴她就去捡柴。 过了些时日，奶奶以为娘已被自己训练得差不多，就叫娘单独出去割猪草。没想到，娘只用了半小时就割了两筐 “猪草”，奶奶一看，又急又慌，娘割的是人家田里正生浆拔穗的稻谷。 奶奶气急败坏地骂她 “疯婆娘”“谷草不分”“活着是造粪”…… 奶奶正想着如何善后时，稻田的主人找来了，竟说是奶奶故意教唆的。奶奶火冒三丈，当着人家的面拿出根棒槌一下敲在娘的后腰上，说：“打死你这个疯婆娘，你跟老娘滚远些……” 娘虽疯，疼还是知道的，她一跳一跳地躲着奶奶的棒槌，口里不停地发出 “别、别” 的哀号。 最后，人家看不过眼，主动说：“算了，我们不追究了。以后把她看严点就是……” 这场风波平息后，娘歪在地上抽泣着。我鄙夷地对她说：“草和稻子都分不清，你真是个猪。” 话音刚落，我的后脑勺挨了一巴掌，是奶奶打的。 奶奶瞪着眼骂我：“小兔崽子，你怎么在说话？再怎么着，她也是你娘啊！” 我不屑地嘴一撇：“我没有这样的傻疯娘！” “嗬，你真是越来越得志了，看我不打死你。” 奶奶又举起了巴掌，这时只见娘像弹簧一样从地上跳起，横在我和奶奶中间，娘指着自己的头，“打我、打我” 地叫着。 我懂了，娘是叫奶奶打她，别打我。 奶奶举在半空中的手颓然垂下，嘴里喃喃地说道：“这个疯婆娘，心里其实有数啊！” 07 我上学不久，父亲被邻村一位养鱼专业户请去守鱼池，除混个一日三餐，每月还能赚 50 元工钱，家里这才稍稍缓口气，起码粮食够吃了。 娘仍然在奶奶的带领下出门干活，主要是打猪草，没再惹什么大的乱子。 记得我读小学三年级的一个冬日，天空突然下起了雨，奶奶让娘给我送雨伞。娘可能一路摔了好几交，浑身像个泥猴似的，她站在教室的窗户旁望着我傻笑，口里还叫：“树…… 伞……” 一些同学嘻嘻地笑，我羞得面红耳热，冲她挥挥手，让她走开些。 娘不为所动，依然站在那里喊：“树…… 伞……” 班上最调皮的范嘉喜还刻意模仿娘那含糊不清的叫声：“树…… 伞……” 这一学，全班都哄堂大笑。 我如坐针毡，对娘恨得牙痒痒，恨她不识相，恨她给我丢人，更恨带头起哄的范嘉喜。 当他还在夸张地模仿时，我抓起面前的文具盒，猛地向他砸过去，却被范嘉喜躲过了，他冲上前来掐住我的脖子，我俩厮打起来。 我个小，根本不是他的对手，被他轻易压在地上。这时，只听教室外传来 “嗷” 的一声长啸，娘像个大侠似的飞进来，一把抓起范嘉喜，拖到了屋外。都说疯子力气大，真是不假。 娘双手将欺负我的范嘉喜举向半空，他吓得哭爹喊娘，一双胖乎乎的小腿在空中乱踢蹬。娘毫不理会，居然将他丢到了学校门口的水塘里，然后拍拍手，一脸漠然地走开。 我被娘的行为吓得呆若木鸡，甚至忘记了呼救。那天，所有老师都在校长办公室开会，对这里发生的一幕毫不知情。 幸亏学校烧饭的大师傅将范嘉喜从水塘里捞了起来，那个调皮蛋冻得全身青紫，身上还有挂伤，被后来赶到的老师们送到了卫生院… 08 娘为我闯了大祸，她却像没事似的。在我面前，娘又恢复了一副怯怯的神态，讨好地看着我。 我明白这就是母爱，即使神智不清，母爱也是清醒的，因为她的儿子遭到了别人的欺负。 当时我就情不自禁地叫了声：“娘！” 这是我会说话以来第一次喊她，娘浑身一震，久久地看着我，然后像个孩子似的羞红了脸，咧了咧嘴，傻傻地笑了。 那天，我们母子俩第一次共撑一把伞回家。娘的一双腿在泥泞的路上呼呼地、有力地往前行，将那泥浆踩得四处飞溅。 我把这事跟奶奶说了，奶奶吓得跌倒在椅子上，连忙去把爸爸叫了回来。 爸爸刚进屋，一群拿着刀棒的壮年男人闯进我家，不分青红皂白，先将锅瓢碗盏砸了个稀巴烂，家里像发生了九级地震。 这都是范嘉喜家请来的人，范父恶狠狠地指着爸爸的鼻子说：“我儿子吓出了精神病，现在卫生院躺着。你家要不拿出 1000 块钱的医药费，我他妈一把火烧了房子去逑。” 1000 块？爸爸每月才 50 元钱啊！看着杀气腾腾的范家人，爸爸的眼睛慢慢烧红了，他用非常恐怖的目光盯着娘，一只手飞快地解下腰间的皮带，劈头盖脑地向娘打去。 一下又一下，娘像一只惶惶偷生的老鼠，又像一只跑进了死胡同的猎物，无助地跳着、躲着，她发出的凄厉叫声以及皮带抽在她身上发出的那种声响，我一辈子都忘不了。 最后还是派出所所长赶来制止了爸爸施暴的手。 调解结果是，双方互有损失，两不亏欠，谁再闹就抓谁！ 派出所在乡下拥有绝对的权威，范家人走后，爸看着满屋狼籍的锅碗碎片，又看着伤痕累累的娘，他突地将娘搂在怀里痛哭起来，说：“疯婆娘，不是我硬要打你，我要不打你，这事下不了地，咱们没钱赔人家啊。这都是家穷惹的祸！” 爸又看着我说：“树儿，你一定要好好读书考大学。要不，咱们就这样被人欺侮一辈子呀！” 我懂事地点点头。从此，我读书可以用 “玩命” 来形容。 09 2000 年夏，我以优异成绩考上了高中，积劳成疾的奶奶却不幸去世，家里的日子更难了。 恩施州民政部门将我家列为特困家庭，每月补贴 40 元钱，我所在的高中也适当地减免了我的学杂费，我这才得以继续读下去。 由于是住读，学业又抓得紧，我很少回家。父亲依旧在为 50 元打工，为我送菜的担子就责无旁贷地落在娘身上。 每次总是隔壁的婶婶帮忙为我炒好咸菜和青菜，然后交给娘送去。二十公里的羊肠山路亏娘记下来，她每个星期天为我送一次，风雨无阻。也真是怪，凡是为儿子的事，她一点也不疯。 除了母爱，我无法解释这种现象在医学上应该怎么破译。 2003 年 4 月 27 日，又是一个星期天，娘来了，不但为我送来了菜，还带来十多个野鲜桃，我拿起一个，咬了一口，笑着问她：“挺甜的，哪来的？” 娘说：“我…… 我摘……” 没想到娘还会摘野桃，我由衷地表扬她：“娘，您真是越来越能干了。” 娘嘿嘿地笑了。娘临走前，我照例叮嘱她注意安全，娘哦哦地应着。 送走娘，我又扑进了高考前的最后总复习中。 第二天，我正在上课，婶婶匆匆地赶到学校，让老师将我喊出教室。婶婶问我娘送菜来没有，我说送了，她昨天就回去了。婶婶说：“没有，她到现在还没回家。” 我心一紧，娘该不会走岔道吧？可这条路她走了三年，照理不会错啊 。 婶婶问：“你娘没说什么？” 我说没有，她给我带了十几个野鲜桃哩。婶婶两手一拍：“坏了，坏了，可能就坏在这野桃上。” 婶婶为我请了假，我们沿着山路往回找，回家的路上确有几棵野桃树，因长在峭壁上才得以生存下来。 我们同时发现了一棵桃树有枝丫折断的痕迹，脚下是百丈深渊。婶婶看了看我，说：“我们弯到峭壁底下去看看吧！” 我说：“婶婶，您别吓我，我娘不会……” 婶婶不容分说，拉着我就往山谷里走…… 娘静静地躺在谷底，周边是一些散落的桃子，她手里还紧紧攥着一个，身上的血早就凝固成了沉重的黑色。 我悲痛得五脏俱裂，紧紧地抱住娘，说：“娘啊，我的苦娘啊，儿悔不该说这桃子甜啊，是儿要了您的命。娘啊，您怎么不答应我？您活着没享一天福啊……” 娘再也不会回答我，再也听不见儿的呼唤，再也不能为我送饭送菜，我将头贴在娘冰冷的脸上，哭得漫山遍野的石头陪着我落泪…… 2003 年 8 月 7 日，我在娘下葬后的第 100 天时，湖北一家大学烫金的录取通知书穿过娘所走过的路，穿过那几株野桃树，穿过村前的稻场径直飞进了我家门。 我神情凛然地把这份迟来的鸿书插向娘亲冷寂的坟头：“娘，儿出息了，您听到了吗？您可以含笑九泉了！娘啊…” ","link":"https://telnetwork.github.io/OFw4xYCiU/"},{"title":"Ubuntu 编译 PHP 7.2.28","content":"安装依赖软件 apt-get install libxml2-dev libjpeg-dev libpng-dev libfreetype6-dev libzip-dev libc-client2007e-dev libglib2.0-dev libpng12-dev libssl-dev zlib1g-dev apt-get install libxtst-dev 编译 libiconv 组件 wget https://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.16.tar.gz tar xf libiconv-1.16.tar.gz &amp;&amp; cd libiconv-1.16 ./configure --prefix=/usr/local ; echo $? make &amp;&amp; make install ldconfig 编译 PHP wget https://www.php.net/distributions/php-7.2.28.tar.gz tar xf php-7.2.28.tar.gz &amp;&amp; cd php-7.2.28 ./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-config-file-scan-dir=/usr/local/php/etc/conf.d --enable-fpm --with-fpm-user=www --with-fpm-group=www --enable-mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-iconv-dir --enable-exif --with-freetype-dir --with-jpeg-dir --with-png-dir --with-zlib --with-libxml-dir=/usr --enable-xml --disable-rpath --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --with-curl --enable-mbregex --enable-mbstring --enable-ftp --with-gd --with-openssl --with-mhash --enable-pcntl --enable-sockets --with-xmlrpc --enable-zip --enable-soap --with-gettext --disable-fileinfo --enable-maintainer-zts --disable-debug ; echo $? make install ; echo $? cp php.ini-development /usr/local/php/etc/php.ini // 复制配置文件 报错 1 -- more --&gt;llect2: error: ld returned 1 exit status Makefile:291: recipe for target 'sapi/cli/php' failed make: *** [sapi/cli/php] Error 1 解决： ln -s /usr/local/lib/libiconv.so.2 /lib64/ make ZEND_EXTRA_LIBS='-liconv' -j 1 ; echo $? 报错2 （如果基于CentOS 7 make时报错） 缺少curl扩展包 cURL 7.10.5 or greater... configure: error: cURL version 7.10.5 or later is required to compile php with cURL support 解决： yum -y install curl-devel make 启动脚本 Ubuntu vim /lib/systemd/system/php-fpm.service CentOS vim /usr/lib/systemd/system/php-fpm.service [Unit] Description=The PHP FastCGI Process Manager Documentation=http://php.net/docs.php After=network.target [Service] Type=simple PIDFile=/usr/local/php/var/run/php-fpm.pid ExecStart=/usr/local/php/sbin/php-fpm --nodaemonize --fpm-config /usr/local/php/etc/php-fpm.conf ExecReload=/bin/kill -USR2 $MAINPID LimitNOFILE=1000000 LimitNPROC=1000000 LimitCORE=1000000 [Install] WantedBy=multi-user.target systemctl daemon-reload systemctl start php-fpm systemctl enable php-fpm ","link":"https://telnetwork.github.io/FImup81pN/"},{"title":"CentOS 7 源码编译 Nginx","content":"安装依赖软件 CentOS 7 yum -y install epel-release yum update yum -y install lua-devel patch libtool libtool-ltdl libtool-ltdl-devel libxslt-devel libxslt libxml2 libxml2-devel gd-devel gd GeoIP GeoIP-devel GeoIP-data gperftools gcc gcc-c++ zlib-devel zlib make cmake autoconf openssl openssl-devel libwebp-devel libwebp libvpx perl-devel perl-ExtUtils-Embed autoconf automake gnome-common Ubuntu apt-get update apt-get -y install libgd-dev build-essential zlib1g-dev libpcre3 libpcre3-dev libssl-dev libxslt1-dev libxml2-dev libgeoip-dev libgoogle-perftools-dev libperl-dev libtool openssl gcc g++ google-perftools PCRE wget https://ftp.pcre.org/pub/pcre/pcre-8.41.tar.gz tar -xf pcre-8.41.tar.gz -C /usr/local/ &amp;&amp; cd /usr/local/pcre-8.41 ./configure --enable-utf8 ; echo $? // --enable-utf8：对utf-8的支持 make ; echo $? make install ; echo $? openssl wget https://github.com/openssl/openssl/archive/OpenSSL_1_1_1.tar.gz tar -xf OpenSSL_1_1_1.tar.gz &amp;&amp; mv openssl-OpenSSL_1_1_1 /usr/local/openssl-1.1.1 创建 Nginx 运行用户 groupadd www useradd www -g www -s /sbin/nologin -M 官网下载 Nginx 源码包 wget http://nginx.org/download/nginx-1.16.1.tar.gz tar -xf nginx-1.16.1.tar.gz &amp;&amp; cd nginx-1.16* 扩展模块 1---- headers git clone https://github.com/openresty/headers-more-nginx-module.git /usr/local/ngx_modules/ngx_headers 扩展模块 2 ---- echo git clone https://github.com/openresty/echo-nginx-module.git /usr/local/ngx_modules/ngx_echo 扩展模块 3 ---- brotli git clone https://github.com/google/ngx_brotli.git /usr/local/ngx_modules/ngx_brotli 扩展模块 4 ---- cloudflare-zlib git clone https://github.com/cloudflare/zlib.git /usr/local/ngx_modules/cloudflare_zlib 扩展模块 5 ---- sticky wget https://bitbucket.org/nginx-goodies/nginx-sticky-module-ng/get/master.tar.gz tar xf master.tar.gz mv nginx-goodies-nginx-sticky-module-ng-08a395c66e42 /usr/local/ngx_modules/ngx_sticky 扩展模块 6 ---- luajit wget https://github.com/openresty/luajit2/archive/v2.1-20200102.tar.gz tar xf v2.1-20200102.tar.gz &amp;&amp; mv luajit2-2.1-20200102 /usr/local/ngx_modules/luajit2-2.1 cd /usr/local/ngx_modules/luajit2-2.1 make &amp;&amp; make install echo '/usr/local/lib' &gt;&gt; /etc/ld.so.conf.d/local.conf export LUA_INCLUDE_DIR=/usr/local/include/luajit-2.1 ldconfig 扩展模块 7 ---- lua-cjson wget https://github.com/openresty/lua-cjson/archive/2.1.0.7.tar.gz tar xf 2.1.0.7.tar.gz &amp;&amp; mv lua-cjson-2.1.0.7 /usr/local/ngx_modules/ cd /usr/local/ngx_modules/lua-cjson-2.1.0.7 make &amp;&amp; make install export LUAJIT_LIB=/usr/local/lib export LUAJIT_INC=/usr/local/include/luajit-2.1 扩展模块 8 ---- ngx_devel_kit wget https://github.com/vision5/ngx_devel_kit/archive/v0.3.1.tar.gz tar -xf v0.3.1.tar.gz &amp;&amp; mv ngx_devel_kit-0.3.1 /usr/local/ngx_modules/ 扩展模块 9 ---- lua-nginx wget https://github.com/openresty/lua-nginx-module/archive/v0.10.14.tar.gz tar -xf v0.10.14.tar.gz &amp;&amp; mv lua-nginx-module-0.10.14 /usr/local/ngx_modules/ 为了方便以后重新编译Nginx,将lua变量写入/etc/profile 中 #Lua export LUAJIT_LIB=/usr/local/lib export LUAJIT_INC=/usr/local/include/luajit-2.1 export LUA_INCLUDE_DIR=/usr/local/include/luajit-2.1 扩展模块 10 ---- TCMalloc；Ubuntu 系统可以直接忽略该步骤，以上apt中已安装 # 先编译安装libunwind wget http://mirror.yongbok.net/nongnu/libunwind/libunwind-1.1.tar.gz tar -xf libunwind-1.1.tar.gz &amp;&amp; cd libunwind-1.1 CFLAGS=-fPIC ./configure make CFLAGS=-fPIC make CFLAGS=-fPIC install wget https://github.com/gperftools/gperftools/archive/gperftools-2.7.tar.gz tar -xf gperftools-2.7.tar.gz &amp;&amp; cd gperftools-gperftools-2.7/ ./autogen.sh ./configure --enable-frame-pointers make &amp;&amp; make install ; echo $? # 编译时添加 &quot;--with-google_perftools_module&quot; # 将TCMalloc库加载到Linux系统中 echo '/usr/local/lib' &gt;&gt; /etc/ld.so.conf.d/local.conf ldconfig 编译 Nginx ./configure \\ --add-module=/usr/local/ngx_modules/ngx_echo \\ --add-module=/usr/local/ngx_modules/ngx_brotli \\ --add-module=/usr/local/ngx_modules/ngx_concat \\ --add-module=/usr/local/ngx_modules/ngx_headers_info \\ --add-module=/usr/local/ngx_modules/ngx_sticky_goodies \\ --add-module=/usr/local/ngx_modules/ngx_devel_kit-0.3.1 \\ --add-module=/usr/local/ngx_modules/lua-nginx-module-0.10.14 \\ --user=www \\ --group=www \\ --with-http_v2_module \\ --with-http_ssl_module \\ --with-http_flv_module \\ --with-http_mp4_module \\ --with-http_dav_module \\ --with-http_sub_module \\ --with-http_slice_module \\ --with-http_geoip_module \\ --with-http_realip_module \\ --with-http_gunzip_module \\ --with-http_addition_module \\ --with-http_secure_link_module \\ --with-http_stub_status_module \\ --with-http_degradation_module \\ --with-http_gzip_static_module \\ --with-http_auth_request_module \\ --with-http_image_filter_module \\ --with-http_random_index_module \\ --with-http_perl_module=dynamic \\ --with-http_xslt_module=dynamic \\ --with-stream \\ --with-stream_realip_module \\ --with-stream_ssl_module \\ --with-stream_ssl_preread_module \\ --with-stream_geoip_module \\ --with-debug \\ --with-compat \\ --with-threads \\ --with-file-aio \\ --with-google_perftools_module \\ --with-ld-opt=-ltcmalloc_minimal \\ --with-zlib=/usr/local/ngx_modules/Cloudflare-zlib \\ --with-pcre-jit \\ --with-pcre-opt=-fPIC \\ --with-pcre=/usr/local/pcre-8.41 \\ --with-openssl=/usr/local/openssl-1.1.1 \\ --with-openssl-opt='enable-tls1_3 -fPIC' \\ --without-poll_module \\ --without-select_module \\ --without-http_scgi_module \\ --without-http_uwsgi_module \\ --prefix=/usr/local/nginx \\ --sbin-path=/usr/local/nginx/sbin/nginx \\ --conf-path=/usr/local/nginx/conf/nginx.conf \\ --pid-path=/data/nginx/PID/nginx.pid \\ --lock-path=/data/nginx/PID/nginx.lock \\ --http-log-path=/data/nginx/logs/access.log \\ --error-log-path=/data/nginx/logs/error.log \\ --http-scgi-temp-path=/data/nginx/tmps/scgi \\ --http-proxy-temp-path=/data/nginx/tmps/proxy \\ --http-uwsgi-temp-path=/data/nginx/tmps/uwsgi \\ --http-fastcgi-temp-path=/data/nginx/tmps/fastcgi \\ --http-client-body-temp-path=/data/nginx/tmps/client_body ; echo $? make -j 2 ; echo $? make install ; echo $? 创建目录 mkdir -pv /data/nginx/{tcmalloc,logs/hack,PID,proxy_cache,proxy_temp,tmp/client_body,tmp/fastcgi} chown -R www.www /data/ chmod 0777 /data/nginx/tcmalloc 创建 systemd 服务文件 # CentOS /usr/lib/systemd/system/nginx.service # Ubuntu /lib/systemd/system/nginx.service —————————————————————————————————————————————————————————————————————————————————————————— tee /usr/lib/systemd/system/nginx.service &lt;&lt;-'EOF' [Unit] Description=The nginx HTTP and reverse proxy server After=syslog.target network.target remote-fs.target nss-lookup.target [Service] Type=forking PIDFile=/data/nginx/PID/nginx.pid ExecStartPre=/bin/rm -f /data/nginx/PID/nginx.pid ExecStartPre=/usr/local/nginx/sbin/nginx -t ExecStart=/usr/local/nginx/sbin/nginx ExecReload=/bin/kill -s HUP $MAINPID ExecStop=/bin/kill -s QUIT $MAINPID PrivateTmp=true [Install] WantedBy=multi-user.target EOF # 注意事项 # PIDFile：要和编译时的配置保持一致 # rm：which rm 管理 systemctl daemon-reload systemctl enable nginx systemctl start nginx systemctl stop nginx systemctl restart nginx systemctl reload nginx systemctl force-reload nginx systemctl status nginx 指定动态模块路径 --modules-path=/usr/local/ngx_modules/dynamic 篇幅堆的有点多，模块配置还没有加上，有时间在分割出来 ","link":"https://telnetwork.github.io/centos-7-yuan-ma-bian-yi-nginx/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://telnetwork.github.io/hello-gridea/"}]}