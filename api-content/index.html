{"posts":[{"title":"Python2 与 Python3 共存","content":" 绝大多数的Linux系统安装后，Python解释器就已经默认存在了。可以直接输入python打开交互式python解释器 &gt;&gt;&gt; Python 命令提示符 退出交互式解析器：快捷键：Ctrl+d 或者 quit() python3 依赖组件： yum -y install openssl-devel bzip2-devel expat-devel gdbm-devel gdbm-devel readline-devel sqlite-devel gcc gcc-c++ 下载 Python 源码包 https://www.python.org/ftp/python/ wget https://www.python.org/ftp/python/3.6.8/Python-3.6.8.tgz tar -xf Python-3.6.8.tgz cd Python-3.6.8 ./configure --prefix=/usr/local/ make // 查看README文件，如果想要同时拥有两个Python版本，安装时可以选择：make altinstall make altinstall 安装完成 type -a python3.6 安装完成后产生的相关文件： /usr/local/bin/python3.6：python3.6 程序的执行文件 /usr/local/lib/python3.6：python3.6 应用程序目录 /usr/local/bin/pip3.6：pip3 的执行文件 /usr/local/bin/pyenv-3.6：pyenv3 的执行文件 此时输入 python 进入的还是默认python2.7的版本，还需要执行以下操作 修改前先查看python执行文件的各链接情况 cd /usr/bin/ rm -f python ln -s /usr/local/bin/python3.6 /usr/bin/python ln -s /usr/local/bin/python3.6 /usr/bin/python3 python：默认进入python3 python2：进入python2.7 修复 Yum 修改后 yum 不能用了，会报一个语法无效的错误 /usr/bin/yum* /usr/libexec/urlgrabber-ext-down 方法1：将这些文件中所有的 except 写法改成 Python3 的 方法2：修改第1行的解析器声明为：python2 这里选择第2个 sed -i s#/usr/bin/python#/usr/bin/python2# /usr/bin/yum* /usr/libexec/urlgrabber-ext-down 验证 ","link":"https://telnetwork.github.io/NPAo2N2VX/"},{"title":"htop","content":" PID：进行的标识号 USER：运行此进程的用户 PRI：进程的优先级 NI：进程的优先级别值，默认的为0，可以进行调整 VIRT：进程占用的虚拟内存值 RES：进程占用的物理内存值 SHR：进程占用的共享内存值 S：进程的运行状况，R表示正在运行、S表示休眠，等待唤醒、Z表示僵死状态 %CPU：该进程占用的CPU使用率 %MEM：该进程占用的物理内存和总内存的百分比 TIME+：该进程启动后占用的总的CPU时间 COMMAND：进程启动的启动命令名称 ","link":"https://telnetwork.github.io/yf2Vh3TZm/"},{"title":"diff 比较目录文件的不同","content":"A B 目录结构 diff A B ","link":"https://telnetwork.github.io/jvCUYlcV6/"},{"title":"dd 生成指定大小的文件","content":"dd if=/dev/zero of=file.txt bs=10M count=10 dd if=/dev/zero of=/tmp/file.txt bs=10M count=10 of=生成的文件名 bs=大小 count=数量 ","link":"https://telnetwork.github.io/1A3A3DTxW/"},{"title":"Scp 传输文件","content":"拷贝远程服务器的文件，到本地： scp root@10.10.10.11:/root/test.txt /root/ 拷贝本地文件，到远程服务器： scp -r /root/test.txt root@10.10.10.11:/root/ scp默认连接的远端主机22端口，如果ssh不是默认的22端口（以30102为例）使用-P（大写）指定： scp -P 30102 /tmp/test.file user@host:/tmp/ 从本地复制多个文件，到远程主机（多个文件使用空格分隔开） scp 1.js a.txt file.jpg root@10.10.10.11:/tmp/webs/ 从远程主机复制多个文件，到当前目录 scp root@10.10.10.11:/tmp/webs/\\{index.css,json.js\\} /data/web/ 从本地文件复制整个文件夹，到远程主机上( -r ) scp -v -r test-dir root@10.10.10.11:/tmp/ 从远程主机复制整个文件夹，到当前test目录下 scp -r root@10.10.10.11:/data/webs ./test/ 在两个远程主机之间复制文件 scp 把文件 从远程主机A，复制到远程主机B scp -vr root@10.10.10.11:/tmp/1.txt root@10.10.10.12:/tmp/ 传输过程中压缩文件，加快传输 文件传输的过程中，使用压缩文件来加快文件传输， -C 启用压缩功能，该文件在传输过程中被压缩， 在目的主机上被解压缩 scp -vrC test-dir root@10.10.10.11:/tmp/ ","link":"https://telnetwork.github.io/F7tAqqeV7/"},{"title":"常见文件传输模式","content":"1）ASCII：最快的传输模式，但只能传文本 2）Xmodem：非常古老的传输协议速度较慢，但由于使用了CRC错误侦测方法，传输的准确率可高达99.6%。 3）Ymodem：Xmodem的改良版，速度相比之较快。 4）Zmodem：Zmodem采用了串流式（streaming）传输方式，传输速度较快，而且还具有自动改变区段大小和断点续传、快速错误侦测等功能。这是目前最流行的文件传输协议。 ","link":"https://telnetwork.github.io/NbIA2fQOd/"},{"title":"单独安装 redis-cli  工具包","content":"GCC yum -y install gcc gcc-c++ apt-get -y install gcc g++ wget http://download.redis.io/redis-stable.tar.gz tar -zxvf redis-stable.tar.gz cd redis-stable make cp -a src/redis-cli /usr/bin/ redis-cli -v redis-cli 5.0.8 make 时报错 make MALLOC=libc ","link":"https://telnetwork.github.io/8QIU8-1yC/"},{"title":"Ubuntu 升级pip后，使用报错","content":" pip 更新后 库里面的函数有变动 vi /usr/bin/pip from pip import main 改成 from pip._internal import main 或者 from pip import main if __name__ == '__main__': sys.exit(main()) 改成 from pip import __main__ if __name__ == '__main__': sys.exit(__main__._main()) ","link":"https://telnetwork.github.io/BtbBwCbIu/"},{"title":"tar 打包 压缩","content":"选项： f：后面跟操作文件，最好放在最后面 c：创建一个新的打包文件 C ：后面跟路径，解压到指定路径 z：使用gzip进行压缩，一般使用后缀（*.tar.gz） j：使用bzip2进行压缩，一般使用后缀（*.tar.bz2） x：对打包文件进行解压 t：查看打包文件内容，不解压 v：详细显示正在处理的信息，并打印到屏幕 p：保留文件的权限和属性，备份文件时较有用 P：保留文件的绝对路径；{比如在/root/t1/t2/目录下对t3打包，加上 -P选项打包，解压时则会是（root/t1/t2/t3） --exclude=file：排除不需要打包的文件 常用组合： pcvf：只打包不压缩 pzcvf：打包并采用gzip压缩 pjcvf：打包并采用bzip2压缩 tvjf：查看bzip2的压缩文件，不解压（*.tar.bz2） tvzf：查看gzip的压缩文件，不解压（*.tar.gz） 1、创建实验文件 2、打包t3目录，但不包含t3目录的上级目录结构 只打包t3目录，不包含/root/t1/t2 tar -pcvf t3.tar.gz -C /root/t1/t2/ t3 显然我们打包完t3，打包文件是存在了当前路径下 3、打包文件，并存放在到指定的路径下 将t3目录打包到 /tpm/ 路径下 tar -pcvf /tmp/t3.tar.gz -C /root/t1/t2/ t3 4、排除不需要打包的文件 [root@zy ~]# tree /root/t1/ /root/t1/ └── t2 ├── t3 │ └── file.txt └── test.txt 目录结构：/root/t1/t2/t3/ 将t2目录打包，并存放在/tmp下，但是排除掉t2目录下的t3 f 选项放在最后面 例如: tar -pvzcf tar -tvf tar -pvjcf 报错 tar: Removing leading `/' from member names tar默认为相对路径，使用绝对路径的话就会报这个错，可以使用 -P 参数（注意大写）解决这个问题 ","link":"https://telnetwork.github.io/ZaMP0KK0j/"},{"title":"RHEL7 更换Yum源","content":" 163开源镜像站：http://mirrors.163.com/ 阿里云开源镜像站：https://opsx.alibaba.com/mirror mkdir -p /etc/yum.repos.d/Yum-Bak mv /etc/yum.repos.d/*.repo /etc/yum.repos.d/Yum-Bak/ wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo sed -i 's/$releasever/7/g' /etc/yum.repos.d/CentOS-Base.repo yum clean all yum makecache ","link":"https://telnetwork.github.io/NkXMa9Up2/"},{"title":"通过端口查找命令路径","content":"（1）用命令：netstat -tunlp | grep -w '80'，根据端口号80，查询出以下信息，并找到进程号（pid）：14976 （2）根据进程号（pid）查找程序目录，ls /proc/14976，切换到相应目录，查询当前目录内容，其中cwd对应的路径即为程序执行路径：ls -l /14976/cwd （3）或者 ps -ef | grep -w 44629 ","link":"https://telnetwork.github.io/YJ_UujUmQ/"},{"title":"字符串匹配","content":"范围：a b c d e ... h，小写 [a-h] 匹配：a和h两个字符，小写 [ah] 匹配：不包含a字符 [!a] ","link":"https://telnetwork.github.io/c5suJhZ2r/"},{"title":"sysctl — net.ipv4.tcp_timestamps","content":" 使用 iptables 做 NAT 时，内网机器 ping 某个域名 ping 的通，而使用 curl 测试不通，可能是 net.ipv4.tcp_timestamps 设置了为 1 ，即启用时间戳（当然也有可能是网站做了防护例如WAF） cat /proc/sys/net/ipv4/tcp_timestamps 1 修改 /etc/sysctl.conf vim /etc/sysctl.conf net.ipv4.tcp_timestamps = 0 sysctl -p 原因：TCP 三次握手 ping 的通 ICMP 没问题，web ssh mysql 都不行 因经过nat之后，如果前面相同的端口被使用过，且时间戳大于这个链接发出的syn中的时间戳，服务器上就会忽略掉这个syn，不返会syn-ack消息，表现为用户无法正常完成tcp3次握手，从而不能打开web页面。在业务闲时，如果用户nat的端口没有被使用过时，就可以正常打开；业务忙时，nat端口重复使用的频率高，很难分到没有被使用的端口，从而产生这种问题。 只有客户端和服务端都开启时间戳的情况下，才会出现能ping通不能建立tcp三次握手的情况 netstat -s | grep timestamp ","link":"https://telnetwork.github.io/-G4nvWwh5/"},{"title":"cat、sed、写入多行文件","content":"cat &gt; /tmp/file.txt &lt;&lt;-EOF 1111111111111 2222222222222 3333333333333 abc EOF V00='#========================================================================================' #Z00='# '$(date &quot;+%F %T&quot;)' ' Y01=' location ~ /payment_platform/pay/base/'$URL'/callback(.*)$ {' Y02=' allow 1.1.1.0/19;' Y03=' allow 2.2.2.2/29;' Y04=' allow 3.3.3.0/21;' Y05=' allow 8.8.8.8/32;' Y06=' deny all;' Y07=' if ( $http_destination ~* ^https(.*)$ ) {' Y08=' set $fixed_destination http$1;' Y09=' }' Y10=' proxy_next_upstream http_502 http_504 error timeout invalid_header;' Y11=' proxy_pass_header Set-Cookie;' Y12=' session_sticky_hide_cookie upstream=publish_default;' Y13=' proxy_pass http://publish_default;' Y14=' }' sed -i &quot;/#Payment Tag/a$V00\\n\\n$Y01\\n$Y02\\n$Y03\\n$Y04\\n$Y05\\n$Y06\\n\\n$Y07\\n$Y08\\n$Y09\\n\\n$Y10\\n$Y11\\n$Y12\\n$Y13\\n\\n$Y14\\n&quot; /tmp/file.txt -- ","link":"https://telnetwork.github.io/Vb29uxc5M/"},{"title":"ag命令安装","content":"CentOS yum -y install epel-release.noarch the_silver_searcher Ubuntu apt-get -y install silversearcher-ag 项目地址 https://github.com/ggreer/the_silver_searcher ","link":"https://telnetwork.github.io/zYBPoa5Tq/"},{"title":"Ansible-Playbook-清理缓存","content":"#!/bin/bash set -ue cleancache=&quot;/etc/ansible/roles/clean_ser_cache.yml&quot; color () { echo -e &quot;\\ \\033[32m############################## WEB ################################ \\033[0m \\033[33m 1.清理 WEB1 缓存\\033[0m \\033[33m 2.清理 WEB2 缓存\\033[0m \\033[32m############################## WWW ################################ \\033[0m \\033[33m3.清理 WWW1 缓存\\033[0m \\033[33m4.清理 WWW2 缓存\\033[0m \\033[34m请选择要清理的平台(1-4):\\033[0m&quot; } option=$(color) read -pr &quot;$option&quot; num case ${num} in 1) ansible-playbook --extra-vars &quot;HOST=WEB1&quot; ${cleancache} ;; 2) ansible-playbook --extra-vars &quot;HOST=WEB2&quot; ${cleancache} ;; 3) ansible-playbook --extra-vars &quot;HOST=WWW1&quot; ${cleancache} ;; 4) ansible-playbook --extra-vars &quot;HOST=WWW2&quot; ${cleancache} ;; esac --- ############################## Clear-Ser-Cache ############################## - hosts: &quot;{{ HOST }}&quot; gather_facts: no vars: - Nginx_Cache_Dir: &quot;/PATH/proxy_cache/*&quot; tasks: - name: Clean Nginx Cache shell: &quot;rm -rf {{Nginx_Cache_Dir}}&quot; notify: reload nginx handlers: - name: reload nginx shell: /usr/local/nginx/sbin/nginx -s reload ","link":"https://telnetwork.github.io/6amsUc_W8/"},{"title":"批量修改文件名","content":"for name in `ls *.crt` do #FILENAME='_COM.crt' newfile=`echo $name | sed &quot;s/_/./g&quot;` mv $name $newfile done for name in `ls` do newfile=`echo $name | sed &quot;s/COM/com/g&quot;` mv $name $newfile done # 变量法 #FILENAME='_COM.crt' https://zhidao.baidu.com/question/1737619248395625147.html # Sed 忽略 大小写 https://blog.csdn.net/weixin_34088583/article/details/91710189 ","link":"https://telnetwork.github.io/HTWhJjwO4/"},{"title":"Nginx-日志切割脚本","content":"#!/usr/bin/env bash set -eu # Nginx Log PATH LOG_PATH=/data/nginx/logs/ # Split by day mv ${LOG_PATH}/access.log ${LOG_PATH}/access_nginx_&quot;$(date +%F)&quot;.log mv ${LOG_PATH}/error.log ${LOG_PATH}/error_nginx_&quot;$(date +%F)&quot;.log # Reopen the log file,向nginx主进程发送USR1信号.否则可能会继续往之前的文件写数据.linux中是根据文件描述符来找文件 nginx -s reopen #kill -USR1 $(cat /data/nginx/PID/nginx.pid) #kill -USR1 $(ps axu | grep &quot;nginx: master process&quot; | grep -v grep | awk '{print $2}') # Delete logs 14 days ago find &quot;$LOG_PATH&quot;/ -type f -mtime +14 -print0 | xargs -0 /bin/rm -f #find &quot;$LOG_PATH&quot;/ -type f -mtime +14 -print0/-0 /bin/rm -f #find &quot;$LOG_PATH&quot;/ -type f -mtime +14 -exec bin/rm -f {} \\; 每天凌晨执行 echo '00 00 * * * root /usr/bin/bash /PATH/nginx_logs_cut.sh' &gt;&gt; /etc/crontab ","link":"https://telnetwork.github.io/9pN5YZT2m/"},{"title":"sysctl 参数调整","content":"vim /etc/sysctl.conf # sysctl settings are defined through files in # /usr/lib/sysctl.d/, /run/sysctl.d/, and /etc/sysctl.d/. # # Vendors settings live in /usr/lib/sysctl.d/. # To override a whole file, create a new file with the same in # /etc/sysctl.d/ and put new settings there. To override # only specific settings, add a file with a lexically later # name in /etc/sysctl.d/ and put new settings there. # # For more information, see sysctl.conf(5) and sysctl.d(5). net.ipv6.conf.all.disable_ipv6 = 1 net.ipv6.conf.default.disable_ipv6 = 1 net.ipv6.conf.lo.disable_ipv6 = 1 vm.swappiness = 0 net.ipv4.neigh.default.gc_stale_time=120 # see details in https://help.aliyun.com/knowledge_detail/39428.html net.ipv4.conf.all.rp_filter=0 net.ipv4.conf.default.rp_filter=0 net.ipv4.conf.default.arp_announce = 2 net.ipv4.conf.lo.arp_announce=2 net.ipv4.conf.all.arp_announce=2 # see details in https://help.aliyun.com/knowledge_detail/41334.html net.ipv4.tcp_max_syn_backlog = 1024 kernel.sysrq=1 kernel.printk = 5 ################################## 优化 ################################### #禁用包过滤功能 net.ipv4.ip_forward = 0 # 开启SYN cookies 当出现syn等待溢出，启用cookies来处理，可防范少量的syn攻击 net.ipv4.tcp_syncookies = 1 #timewait的数量，默认是180000 net.ipv4.tcp_max_tw_buckets = 2000 #每个网络接口接收数据包的速率比内核处理这些包的速率快时，允许送到队列的数据包的最大数目 net.core.netdev_max_backlog = 65535 #为了打开对端的连接，内核需要发送一个SYN并附带一个回应前面一个SYN的ACK。也就是所谓三次握手中的第二次握手。这个设置决定了内核放弃连接之前发送SYN+ACK包的数量 net.ipv4.tcp_synack_retries = 1 #对于一个新建的tcp连接，内核要发送几个SYN连接请求才决定放弃 net.ipv4.tcp_syn_retries = 1 #开启TCP连接复用功能，允许将time_wait sockets重新用于新的TCP连接（主要针对time_wait连接） net.ipv4.tcp_tw_reuse = 1 #对外连接端口范围 net.ipv4.ip_local_port_range = 2048 63000 #系统文件描述符总量 fs.file-max = 102400 # 避免放大攻击 net.ipv4.icmp_echo_ignore_broadcasts = 1 # 开启恶意icmp错误消息保护 net.ipv4.icmp_ignore_bogus_error_responses = 1 # 允许更多的PIDs (减少滚动翻转问题); may break some programs 32768 kernel.pid_max = 65536 # 增加系统IP端口限制 net.ipv4.ip_local_port_range = 4000 63000 #设置为1即启用时间戳，慎用（开启后可能会出现能ping通，但是SSH|web|...|均无法连接） net.ipv4.tcp_timestamps = 0 #ICMP禁止广播 net.ipv4.icmp_echo_ignore_broadcasts = 1 vm.nr_hugepages=512 exec $SHELL 可参考 https://help.aliyun.com/knowledge_detail/39428.html https://help.aliyun.com/knowledge_detail/41334.html ","link":"https://telnetwork.github.io/DbgdO70pJ/"},{"title":"虎威","content":" ","link":"https://telnetwork.github.io/T1TsAwU1d/"},{"title":"CentOS6.8 升级内核安装Docker","content":"查看当前系统版本及内核版本 安装 Elrepo 源 访问：http://www.elrepo.org/ 根据当前CentOS版本下载对应的Elrepo 导入公钥 注：在Elrepo源中有两个版本的内核： 长期支持版本：yum -y --enablerepo=elrepo-kernel install kernel-lt &amp;&amp; echo $? 线上最新版本：yum -y --enablerepo=elrepo-kernel install kernel-ml 修改grub vi /etc/grub.conf default=1 改为 default=0 重启系统：reboot 内核升级完成！！！ 安装 Docker yum -y install docker-io 注：如何显示没有该package，则先执行下面这条指令，有则忽略 yum -y install http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm 启动 Docker service docker start （Docker C/S 模式） chkconfig docker on （开机自启动） 查看 Docker 版本：docker version 查看 Docker 日志：tailf /var/log/docker ","link":"https://telnetwork.github.io/egGFdoLgb/"},{"title":"CentOS6 最简网卡配置","content":"/etc/sysconfig/network-scripts/ifcfg-eth0 DEVICE=eth0 # 网卡名称 TYPE=Ethernet # 网卡类型（以太网卡) ONBOOT=yes # 开机激活网卡 BOOTPROTO=none # IP 获取方式 (none 或者 static 静态) (DHCP 动态获取) IPADDR=192.168.1.10 # IP 地址 PREFIX=24 # IP 前缀长度（子网掩码）或者 NETMASK=255.255.255.0 GATEWAY=192.168.1.1 # 网关 DNS1=8.8.8.8 # 主 DNS DNS2=114.114.114.114 # 辅 DNS # 查看网卡速率： mii-tool eth0 ethtool eth0 ","link":"https://telnetwork.github.io/V5VV5vrE4/"},{"title":"常见端口","content":"vi /etc/services 互联网号码分派局（IANA）制定的“著名的已注册动态端口”官方列表，请访问以下链接： http://www.iana.org/assignments/port-numbers Port 传输协议 名称 注释 18 / msp 消息发送协议 20 / ftp-data FTP 数据端口 21 / ftp 文件传输协议（FTP）端口；有时被文件服务协议（FSP）使用 22 / SSH 安全 Shell（SSH）服务 23 / telnet Telnet 服务 25 / smtp 简单邮件传输协议（SMTP） 37 / time 时间协议 42 / nameserver 互联网名称服务 43 / nicname WHOIS 目录服务 49 / tacacs 用于基于 TCP/IP 验证和访问的终端访问控制器访问控制系统 53 UDP domain (DNS) 域名服务（如 BIND） 67 UDP bootps 引导协议（BOOTP）服务；还被动态主机配置协议（DHCP）服务使用，广播请求配置 68 UDP bootpc Bootstrap（BOOTP）客户；还被动态主机配置协议（DHCP）客户使用，广播回应请求 69 / tftp 小文件传输协议（TFTP） 80 / http 用于万维网（WWW）服务的超文本传输协议（HTTP） 95 / supdup Telnet 协议扩展 107 / rtelnet 远程 Telnet 109 / pop2 邮局协议版本 2 110 / pop3 邮局协议版本 3 111 / sunrpc 用于远程命令执行的远程过程调用（RPC）协议，被网络文件系统（NFS）使用 115 / sftp 安全文件传输协议（SFTP）服务 123 / ntp 网络时间协议（NTP） 143 / imap 互联网消息存取协议（IMAP） 161 / snmp 网络管理协议（SNMP） 179 / BGP 边界网关协议 220 / imap3 互联网消息存取协议版本 3 389 / ldap 轻型目录存取协议（LDAP） 443 / SSL https 安全超文本传输协议（HTTP） 546 / dhcpv6-client 动态主机配置协议（DHCP）版本 6 服务 547 / dhcpv6-server 动态主机配置协议（DHCP）版本 6 服务 636 / ldaps 通过安全套接字层的轻型目录访问协议 (LDAPS) 873 / rsync rsync 文件传输服务 992 / telnets 通过安全套接字层的 Telnet（TelnetS） 993 / imaps 通过安全套接字层的互联网消息存取协议（IMAPS） 1433 / ms-sql-s Microsoft SQL 服务器 1434 / ms-sql-m Microsoft SQL 监视器 1758 / tftp-mcast 小文件 FTP 组播 1759 / mtftp 组播小文件 FTP（MTFTP） 3306 / MySQL MySQL 数据库服务 33434 / traceroute Traceroute 网络跟踪工具 5432 / postgres PostgreSQL 数据库 ","link":"https://telnetwork.github.io/Pe7DcL-Pv/"},{"title":"Nginx 正向代理","content":" 正向代理 安装依赖软件 yum -y install git make gcc gcc-c++ gperftools autoconf automake libtool 支持 HTTPS 流量转发_模块 ngx_http_proxy_connect_module # GitHub项目地址 https://github.com/chobits/ngx_http_proxy_connect_module 获取 ngx_http_proxy_connect_module git clone --recursive https://github.com/chobits/ngx_http_proxy_connect_module.git mkdir -pv /usr/local/modules mv ngx_http_proxy_connect_module /usr/local/modules 下载 Nginx-1.9.2 源码包 wget http://nginx.org/download/nginx-1.9.2.tar.gz tar -xf nginx-1.9.2.tar.gz &amp;&amp; cd nginx-1.9.2/ patch -p1 &lt; /usr/local/modules/ngx_http_proxy_connect_module/patch/proxy_connect.patch 创建 Nginx 运行用户 groupadd www useradd www -g www -s /sbin/nologin -M openssl wget https://github.com/openssl/openssl/archive/OpenSSL_1_1_1.tar.gz tar -xf OpenSSL_1_1_1.tar.gz &amp;&amp; mv openssl-OpenSSL_1_1_1 /usr/local/openssl-1.1.1 可选功能 --with-google_perftools_module --with-ld-opt=-ltcmalloc_minimal # 启用以上功能，需要操作下面的步骤 # 先编译安装libunwind wget http://mirror.yongbok.net/nongnu/libunwind/libunwind-1.1.tar.gz tar -xf libunwind-1.1.tar.gz &amp;&amp; cd libunwind-1.1 CFLAGS=-fPIC ./configure make CFLAGS=-fPIC make CFLAGS=-fPIC install # 编译 TCMalloc wget https://github.com/gperftools/gperftools/archive/gperftools-2.7.tar.gz tar -xf gperftools-2.7.tar.gz &amp;&amp; cd gperftools-gperftools-2.7/ ./autogen.sh ./configure --enable-frame-pointers make &amp;&amp; make install ; echo $? # 编译时添加 &quot;--with-google_perftools_module&quot; # 将TCMalloc库加载到Linux系统中 echo '/usr/local/lib' &gt;&gt; /etc/ld.so.conf.d/local.conf ldconfig 编译 Nginx bash configure \\ --add-module=/usr/local/modules/ngx_http_proxy_connect_module \\ --prefix=/usr/local/forward \\ --user=www \\ --group=www \\ --with-stream \\ --with-google_perftools_module \\ --with-ld-opt=-ltcmalloc_minimal \\ --with-openssl-opt=-fPIC \\ --with-openssl=/usr/local/openssl-1.1.1 \\ --without-http_gzip_module \\ --lock-path=/data/forward/PID/forward.lock \\ --pid-path=/data/forward/PID/forward.pid \\ --error-log-path=/data/forward/logs/error.log \\ --http-log-path=/data/forward/logs/access.log ; echo $? make &amp;&amp; make install conf 配置 user www www; worker_processes auto; worker_rlimit_nofile 65535; events { use epoll; multi_accept off; worker_connections 65535; accept_mutex on; } error_log /data/forward/logs/error.log warn; pid /data/forward/PID/nginx.pid; http { include mime.types; default_type application/octet-stream; charset utf-8; sendfile on; tcp_nopush on; tcp_nodelay off; keepalive_timeout 120; keepalive_requests 30; client_header_timeout 10; client_body_timeout 10; reset_timedout_connection on; send_timeout 10; log_not_found off; server_names_hash_bucket_size 4096; client_header_buffer_size 256k; large_client_header_buffers 4 256k; open_file_cache max=65536 inactive=30s; open_file_cache_valid 30s; open_file_cache_min_uses 2; open_file_cache_errors on; server_tokens off; autoindex off; autoindex_exact_size off; autoindex_localtime on; log_format main '{&quot;remote_addr&quot;:&quot;$remote_addr&quot;,' '&quot;time&quot;:&quot;[$time_local]&quot;,' '&quot;method&quot;:&quot;$request_method&quot;,' '&quot;scheme&quot;:&quot;$scheme&quot;,' '&quot;protocol&quot;:&quot;$server_protocol&quot;,' '&quot;domain&quot;:&quot;$host&quot;,' '&quot;uri&quot;:&quot;$request_uri&quot;,' '&quot;http_response&quot;:&quot;$status&quot;,' '&quot;http_referer&quot;:&quot;$http_referer&quot;,' '&quot;UA&quot;:&quot;$http_user_agent&quot;,' '&quot;X_forwarded_for&quot;:&quot;$http_x_forwarded_for&quot;,' '&quot;request_time&quot;:&quot;$request_time&quot;,' '&quot;body_bytes_sent&quot;:&quot;$body_bytes_sent&quot;' '}'; access_log /data/forward/logs/access.log main; server { resolver 114.114.114.114 8.8.8.8; listen 12345; access_log /data/forward/logs/access.log main; proxy_connect; proxy_connect_allow all; proxy_connect_connect_timeout 10s; proxy_connect_read_timeout 10s; proxy_connect_send_timeout 10s; location / { proxy_pass http://$host; proxy_set_header Host $host; } } } ","link":"https://telnetwork.github.io/zDfN3L9d7/"},{"title":"修改 Tomcat 时区","content":"修改Tomcat时区为：Asia/shanghai 手动修改 vim /path/to/tomcat/bin/catalina.sh -Duser.timezone=Asia/shanghai :wq 保存退出 sed 替换 sed -i 's#JAVA_OPTS=&quot;$JAVA_OPTS $JSSE_OPTS&quot;#JAVA_OPTS=&quot;$JAVA_OPTS $JSSE_OPTS -Duser.timezone=Asia/shanghai&quot;#g' /path/to/tomcat/bin/catalina.sh ","link":"https://telnetwork.github.io/rUo-DdFdk/"},{"title":"Ubuntu 更新源","content":"清华大学镜像源 https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/ 备份原文件 cp -a /etc/apt/sources.list{,-bak} vi /etc/apt/sources.list Ubuntu16.04 LTS deb-src http://archive.ubuntu.com/ubuntu xenial main restricted #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial main restricted deb-src http://mirrors.aliyun.com/ubuntu/ xenial main restricted multiverse universe #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted deb-src http://mirrors.aliyun.com/ubuntu/ xenial-updates main restricted multiverse universe #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial universe deb http://mirrors.aliyun.com/ubuntu/ xenial-updates universe deb http://mirrors.aliyun.com/ubuntu/ xenial multiverse deb http://mirrors.aliyun.com/ubuntu/ xenial-updates multiverse deb http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ xenial-backports main restricted universe multiverse #Added by software-properties deb http://archive.canonical.com/ubuntu xenial partner deb-src http://archive.canonical.com/ubuntu xenial partner deb http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted deb-src http://mirrors.aliyun.com/ubuntu/ xenial-security main restricted multiverse universe #Added by software-properties deb http://mirrors.aliyun.com/ubuntu/ xenial-security universe deb http://mirrors.aliyun.com/ubuntu/ xenial-security multiverse Ubuntu 18.04:(bionic) deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse 更新 apt update # 如果报错： W: UNKNOWN MULTI-ARCH TYPE 'NO' FOR PACKAGE 'COMPIZ-GNOME'... # 执行： apt-get install -f apt apt 常用命令 # 更新源 sudo apt-get update # 安装包 sudo apt-get install package # 删除包 sudo apt-get remove package # 搜索软件包 sudo apt-cache search package # 获取包的相关信息，如说明、大小、版本等 sudo apt-cache show package # 重新安装包 sudo apt-get install package --reinstall # 修复安装 sudo apt-get -f install # 删除包，包括配置文件等 sudo apt-get remove package --purge # 安装相关的编译环境 sudo apt-get build-dep package # 更新已安装的包 sudo apt-get upgrade # 升级系统 sudo apt-get dist-upgrade # 了解使用该包依赖那些包 sudo apt-cache depends package # 查看该包被哪些包依赖 sudo apt-cache rdepends package # 下载该包的源代码 sudo apt-get source package # 清理无用的包 sudo apt-get clean &amp;&amp; sudo apt-get autoclean # 检查是否有损坏的依赖 sudo apt-get check ","link":"https://telnetwork.github.io/KjzUq3UyX/"},{"title":"简述 网络设备部署模式","content":" 在线模式 改变现有网络拓扑 网络拓扑中的一员，如果其出现问题必然影响该网络。网络中的流量会经过此设备，由此设备向其他设备转发 旁路部署 不改变现有网络拓扑 理论上不属于拓扑中的设备，如果其出现问题不会影响网络。 由 （端口镜像） 复制出一份流量到此设备，不会改变现有网络拓扑，常见于安全审计设备 透明模式 改变现有网络拓扑 就像一根只能网线 可以理解成一个 传输介质，别的流量经过它，它就会直接向下转发 又比方说 一台FW 透明部署，流量经过它，它可以根据包过滤、策略等拦截，但是它不会选择其他路径 对用户是透明的(Transparent)，即用户意识不到防火墙的存在。要想实现透明模式，防火墙必须在没有 IP地址的情况下工作，不需要对其设置IP地址，用户也不知道防火墙的IP地址 在透明模式下，防火墙将流过的所有二层数据进行解封装，把数据根据用户定义的规则进行从二层到四层的过滤。但与路由模式不同的是，防火墙会将过滤后的数据重新用原来的二层源地址和目的地址再封装成帧进行转发，而不改变数据帧的源地址和目的地址。 防火墙在透明模式下工作时，对用户来说像是网桥或交换机，用户感觉不到防火墙的存在，所以称之为透明模式。这种模式对网络结构的变更最小，所以适合一些特殊情况。但是要注意的是在透明模式下，防火墙的功能要受到一些限制，某些过滤功能在透明模式下无法实现。 网关模式 改变现有网络拓扑 作为该网络中，此条链路的出口 ","link":"https://telnetwork.github.io/krCEV837n/"},{"title":"Switch 端口镜像","content":"华为 端口镜像 sys observer-port 1 inter g 0/0/24 // 配置观察端口 inter g 0/0/23 // 进入需要被镜像的端口 port-mirroring to observe-port 1 both // 配置镜像端口模式 dis this / dis current // 查看配置 设备接入24口，观察23端口的数据报文 H3C 端口镜像 mirroring-group 1 local // 创建端口镜像组 mirroring-group 1 monitor-port GigabitEthernet 1/0/4 // 配置监控端口 mirroring-group 1 mirroring-port GigabitEthernet 19 20 21 241/0/25 both // 配置被监控端口 ","link":"https://telnetwork.github.io/j0N5sl0e1/"},{"title":"Nginx alias 别名","content":"# 目录别名 location /test { autoindex on; # 开启索引功能 autoindex_exact_size off; # 关闭计算文件确切大小（单位bytes），只显示大概大小（单位kb、mb、gb） autoindex_localtime on; # 显示本机时间而非 GMT 时间 alias /tmp/test; # 系统中的真实路径 } ","link":"https://telnetwork.github.io/crZU3STfj/"},{"title":"8芯双绞线","content":"八根芯线 交叉线（标准T568B），两端线序一样 T568B：白橙，橙，白绿，蓝，白蓝，绿，白棕，棕 直通线（T568A &amp; T568B），一端T568A、一端T568B T568A：白绿，绿，白橙，蓝，白蓝，橙，白棕，棕 T568B：白橙，橙，白绿，蓝，白蓝，绿，白棕，棕 虽然双绞线有8根芯线，但是在目前广泛使用的百兆网络后，实际上用到的只有四根(1、2、3、6) 当宽带在 100M 以下的时候，一般运用到的是1、2、3、6 ；而 4、5、7、8是双向线，保留使用 在高于100M的网络运行下，通常八芯会全部使用，比如六类的网线就需要用到全部线芯，否则网络运行会很不稳定 1 2 3 6 这四根线具体作用： 1-输出数据 (+) 2-输出数据 (-) 3-输入数据 (+) 4-保留为电话使用 5-保留为电话使用 6-输入数据 (-) 7-保留为电话使用 8-保留为电话使用 RJ-45各针脚功能 1、传输数据正极 Tx+ 2、传输数据负极 Tx- 3、接收数据正极 Rx+ 4、备用（当1236出现故障时，自动切入使用状态） 5、备用（当1236出现故障时，自动切入使用状态） 6、接收数据负极 Rx- 7、备用（当1236出现故障时，自动切入使用状态） 8、备用（当1236出现故障时，自动切入使用状态） ","link":"https://telnetwork.github.io/Pgta-VxCc/"},{"title":"启动 jar 可执行文件","content":" nohup：不挂断运行命令，当账户退出或终端关闭时，程序仍然运行 nohup 命令执行作业时，缺省情况下该作业的所有输出被重定向到 nohup.out 的文件中，除非另外指定了输出文件 前提已经配置好了JDK环境 nohup java -jar test.jar &gt;/dev/null 2&gt;&amp;1 &amp; # nohup 会生成输出日志 文件名nohup.out # &gt;/dev/null 2&gt;&amp;1 加了这个之后，意思是将（标准输出、输出错误） 输出日志输出到一个空设备里面 # &amp; 后台新启一个线程执行该命令 nohup java -Xms1024m -Xmx2048m -XX:PermSize=512m -XX:MaxPermSize=512m -XX:MaxNewSize=512m -jar test.jar &gt; logs/test.log 2&gt;&amp;1 &amp; ","link":"https://telnetwork.github.io/xzcORH-3n/"},{"title":"CentOS 7 Install iptables","content":"安装服务 #安装 iptables yum -y install iptables #升级 iptables yum update iptables #安装 iptables 服务组件 yum -y install iptables-services #停止firewalld服务 systemctl stop firewalld #禁用firewalld服务 systemctl mask firewalld 设置 iptables 规则 # 查看iptables现有规则 iptables -nL # 先允许所有,防止意外 iptables -P INPUT ACCEPT # 清空所有默认规则 iptables -F # 清空所有自定义规则 iptables -X # 所有计数器归0 iptables -Z # 允许来自于lo接口的数据包(本地访问) iptables -A INPUT -i lo -j ACCEPT # 开放 22 端口(SSH) iptables -A INPUT -p tcp --dport 22 -j ACCEPT # 开放 80 端口(HTTP) iptables -A INPUT -p tcp --dport 80 -j ACCEPT # 开放 443 端口(HTTPS) iptables -A INPUT -p tcp --dport 443 -j ACCEPT # 允许ping iptables -A INPUT -p icmp --icmp-type 8 -j ACCEPT # 允许接受本机请求之后的返回数据，RELATED 是为FTP设置 iptables -A INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT # 设置默认规则，其他入站一律丢弃 iptables -P INPUT DROP # 设置默认规则，所有出站一律放行 iptables -P OUTPUT ACCEPT # 设置默认规则，所有转发一律丢弃 iptables -P FORWARD DROP # 保存规则 service iptables save 启动 iptables 服务 # 注册iptables服务 systemctl enable iptables.service systemctl start iptables.service systemctl status iptables.service 补充 # 删除 Iptables 规则 # 查看规则序列号 iptables -nL --line-number iptables -D INPUT(链名) 13（规则ID） or iptables -D INPUT -s 1.1.1.1,2.2.2.2,3.3.3.3 -j DROP(DROP|REJECT) iptables -D OUTPUT -s 1.1.1.1,2.2.2.2,3.3.3.3 -j DROP(DROP|REJECT) # 在启用iptables后，VSFTPD 无法使用被动模式 # 加载 FTP 模块 modprobe ip_conntrack_ftp modprobe ip_nat_ftp #写入配置文件中，顺序不能调换 vi /etc/sysconfig/iptables-config IPTABLES_MODULES=&quot;ip_conntrack_ftp&quot; IPTABLES_MODULES=&quot;ip_nat_ftp&quot; #重启 iptables systemctl restart iptables.service ","link":"https://telnetwork.github.io/1jLKreDAt/"},{"title":"/dev/null","content":"输出到空设备 &gt;/dev/null 2&gt;&amp;1 1&gt;/dev/null 2&gt;&amp;1 2&gt;/dev/null printf &quot;%-40s %40s\\n&quot; &quot;Stopping Nginx&quot; &quot;[ OK ]&quot; 参考： https://blog.csdn.net/wuruixn/article/details/8535378 https://blog.51cto.com/meiling/2057676 ","link":"https://telnetwork.github.io/MdHLLPjzx/"},{"title":"CentOS 查看系统版本信息","content":"uname -a cat /etc/redhat-release cat /etc/os-release cat /proc/version cat /etc/issue python -mplatform ","link":"https://telnetwork.github.io/3GICpCaQU/"},{"title":"systemctl","content":"systemd： http://www.ruanyifeng.com/blog/2016/03/systemd-tutorial-commands.html https://linux.cn/article-5926-1.html 查看每个服务的启动耗时 systemd-analyze blame 查看本地化设置 localectl 查看当前时区设置 timedatectl 显示所有可用的时区 timedatectl list-timezones 显示系统所有服务 systemctl list-unit-files systemctl list-unit-files --type=service systemctl list-unit-files | grep docker enable 会在启动过程中禁用该设备。但是该单元可以在启动后随时启动。 systemctl enable httpd.service 完全禁用该单元 systemctl mask httpd.service systemctl unmask httpd.service 注销服务 systemctl mask &lt;service&gt; 是注销服务的意思。 # 注销服务意味着： 该服务在系统重启的时候不会启动 该服务无法进行做systemctl start/stop操作 该服务无法进行systemctl enable/disable操作 ","link":"https://telnetwork.github.io/TPNvp2uTZ/"},{"title":"sudo","content":"echo 'your_password' | sudo -S 执行命令 echo 'QWES!123t' | sudo -S mv /root/test /tmp/ ","link":"https://telnetwork.github.io/fvQNDn5xP/"},{"title":"过滤 ip a 地址","content":"ip a | grep -w 'inet' | awk -F &quot;/&quot; '{print $1}' | awk -F &quot; &quot; '{print $2}' ip a | grep 'inet ' | sed 's/^.*inet //g' | awk -F &quot;/&quot; '{print $1}' ","link":"https://telnetwork.github.io/9mSNUoKJ4/"},{"title":"JDK 环境配置","content":"Java Platform 官网 http://www.oracle.com/technetwork/java/javase/downloads JDK-1.8.0_131 wget http://mirror.cnop.net/jdk/linux/jdk-8u131-linux-x64.tar.gz vi /etc/profile export JAVA_HOME=/path/to/jdk_path export JRE_HOME=${JAVA_HOME}/jre export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:/usr/local/share/java/zmq.jar export PATH=${JAVA_HOME}/bin/:${JRE_HOME}/bin:$PATH # maven #export MAVEN_HOME=/path/to/maven_path #export PATH=$PATH:$MAVEN_HOME/bin 重新加载 source /etc/profile exec $SHELL # 查看jdk版本： java -version # 查看maven版本： # mvn -v ","link":"https://telnetwork.github.io/FHPPVXUnw/"},{"title":"CentOS 6 Install Telnet","content":"安装 Telnet yum -y install telnet yum -y install telnet-server 开启 Telnet 服务 vi /etc/xinetd.d/telnet 激活 xinetd 服务 测试 Telnet 补充 查看 23 端口是否开启，并放行 netstat -tunlp | grep &quot;23&quot; # 开放 23 端口 iptables -A INPUT -p tcp --dport 23 -j ACCEPT service iptables save service iptables restart ","link":"https://telnetwork.github.io/p5dRrlNJD/"},{"title":"OSI七层","content":" ISO/OSI 七层模型 ISO：国际标准化组织 OSI：开放系统互联 TCP/IP 四层模型 OSI：纯理论模型 TCP/IP：实际模型。所有的实际网络协议和网络设备都对应在 TCP/IP 模型中 ISO/OSI 七层 应用层 表示层 会话层 传输层 网络层 数据链路层 物理层 作用简述： 应用层：给用户提供服务,接口、操作界面 表示层：数据的表示，压缩，加密等 会话层：确定是否需要建立会话，终止会话，确定数据是否需要进行网络传递 传输层：端口封装，差错校验，选择传输方式（TCP——UDP） 网络层：IP地址寻址，路由选择 数据链路层：mac地址寻址，组帧 物理层：数据实际传输，电气特性，设备之间的比特流传输，物理接口 注意事项： 上三层是为用户提供服务的，下四层负责实际数据传输 越是上层，越智能，可以识别所有当前层以下的数据，越贴近用户。 越是下层，越傻瓜，越贴近硬件 下四层的传输单位: 传输层: 数据段（报文） 网络层: 数据包（报文分组） 数据链路层: 数据帧 物理层: 比特（位）Bit 数据发送时: 数据从上层向下层传输 数据接收时: 数据从下层向上层传输 数据不能跨层传递，每层之间通过逻辑接口传递 物理层负责实际数据传递，其它层只是逻辑对应 OSI模型只是理论模型，不对应实际协议或硬件 ","link":"https://telnetwork.github.io/yHXUEIz0h/"},{"title":"Firewalld command","content":" 允许(永久生效) // 允许 1.1.1.1 访问机器 firewall-cmd --permanent --add-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;1.1.1.1&quot; accept' // 允许 2.2.0.0/16 网段访问机器 firewall-cmd --permanent --add-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;2.2.0.0/16&quot; accept' // 允许 3.3.3.0/16 网段访问80端口 firewall-cmd --permanent --add-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;3.3.3.3.0/16&quot; port protocol=&quot;tcp&quot; port=&quot;80&quot; reject' // 动态加载生效 firewall-cmd --reload // 查看所有规则 firewall-cmd --list-all // 查看指定规则 firewall-cmd --list-rich-rules 拒绝(永久生效) // 拒绝 1.1.1.1 访问机器 firewall-cmd --permanent --add-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;1.1.1.1&quot; drop' // 动态加载生效 firewall-cmd --reload // 拒绝动作 REJECT：返回一个拒绝(终止)数据包(TCP FIN或UDP-ICMP-PORT-UNREACHABLE)，明确的拒绝对方的连接动作 DROP：直接丢弃数据，并不反馈任何回应。需要Client等待超时 删除规则 firewall-cmd --permanent --remove-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;1.1.0.0/16&quot; dropt' firewall-cmd --reload 临时添加规则 // 立即生效 firewall-cmd --add-rich-rule='rule family=&quot;ipv4&quot; source address=&quot;1.1.1.2&quot; reject' // 加载后以上规则消失 firewall-cmd --reload 补充 // 允许http服务(对应服务策略目录：/usr/lib/firewalld/services/) firewall-cmd --permanent --add-service=http // 关闭http服务(对应服务策略目录：/usr/lib/firewalld/services/) firewall-cmd --permanent --remove-service=http // 允许端口:3389 firewall-cmd --permanent --add-port=3389/tcp // 允许范围端口:1-3389 firewall-cmd --permanent --add-port=1-3389/tcp // 关闭放行的端口:3389 firewall-cmd --permanent --remove-port=3389/tcp // 禁 Ping firewall-cmd --permanent --add-icmp-block=echo-request // 删除禁 ping firewall-cmd --permanent --remove-icmp-block=echo-request // 开放 UDP 233 端口 firewall-cmd --add-port=&quot;233/udp&quot; // 查看firewall的状态 firewall-cmd --state // 查看防火墙规则（只显示/etc/firewalld/zones/public.xml中防火墙策略，在配置策略前建议 cp -a 备份，方便回滚） firewall-cmd --list-all // 查看所有区域的规则情况（显示/etc/firewalld/zones/下的所有策略） firewall-cmd --list-all-zones // 重新加载配置文件 firewall-cmd --reload // 动态加载，无需断开连接 firewall-cmd --complete-reload // 类似重启服务，状态信息将会丢失,此选项应当用于处理防火墙问题时. 官方文档 https://fedoraproject.org/wiki/FirewallD/zh-cn ","link":"https://telnetwork.github.io/BmY4QZUJ3/"},{"title":"sed 显示指定的行","content":" 显示文件有多少行 sed -n '$=' filename 显示第 7 行 sed -n '7p' filename 显示第 10 到 20 行的数据 sed -n '10,20p' filename 显示第 10 行到最后一行 time sed -n '10,$p' filename 显示第 1 行和 20 到 40 行 sed -n '1p;20,40p' filename ","link":"https://telnetwork.github.io/2YBj4LzX7/"},{"title":"sed 写入数据到指定的行","content":"在指定行前插入一行，在第 2 行前插入 xxx sed '2 ixxx' node.txt sed -i '2 ixxx' node.txt 在指定行后插入一行，在第 2 行后插入 yyy sed '2 ayyy' node.txt sed -i '2 ayyy' node.txt 在第 3 行后面插入，该行开头有 8 个空格，并用 转义符&quot;\\&quot; 使之生效 sed -i '3 a\\ \\ \\ \\ \\ \\ \\ \\ allow 11.22.33.44.55;' node.txt 在指定的连续行(1 到 4 行)的前面插入 xxx sed -i '1,4 ixxx' node.txt 在指定的连续行(1 到 4 行)的后面插入 yyy sed -i '5,8 ayyy' node.txt 在匹配的行，前面插入新行的写法：i sed '/old line/i\\add a new line' node.txt // 在包含aaa行的前面，写入123 sed &quot;/aaa/i123&quot; txt.file // 以上只要匹配的行中包含aaa，则均会写入 // 精确写法，仅在aaa行前写入数据 sed &quot;/^aaa$/i1111111111111111&quot; txt.file 在匹配的行，后面插入新行的写法：a sed '/old line/a\\add a new line' node.txt // 在包含bbb行的后面，写入456，注意456前面有2空格使用&quot;\\&quot;转义 sed &quot;/bbb/a\\ \\ ccc&quot; txt.file // 只要匹配的行中包含bbb，则均会写入 // 精确写法，仅在bbb行后写入数据 sed &quot;/^aaa$/a1111111111111111&quot; txt.file 补充 sed -i 's/OLD/NEW/' file sed -i 's/OLD/NEW/g' file sed -i &quot;s/OLD'/NE'W/&quot; file 注意事项 sed ' ' sed &quot; &quot; 根据实际应用场景，采用合适的符号 ","link":"https://telnetwork.github.io/_8xbgDAfq/"},{"title":"grep 过滤","content":" grep -Eiv &quot;^#|^$&quot; zabbix_agentd.conf //打印匹配行的前后10行 grep -10 '123' test.log or //打印匹配行的前后10行 grep -C 10 '123' test.log or //打印匹配行的前后10行 grep -A 10 -B 10 '123' test.log //打印匹配行的前10行 grep -B 10 '123' test.log //打印匹配行的后10行 grep -A 10 '123' test.log ","link":"https://telnetwork.github.io/cAiqjeYuo/"},{"title":"返回访问者IP","content":"ip_info.html &lt;!DOCTYPE html&gt; &lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt; &lt;title&gt;your ip address&lt;/title&gt; &lt;meta name=&quot;descriptio&quot; content=&quot;&quot;&gt; &lt;meta name=&quot;keywords&quot; content=&quot;&quot;&gt; &lt;link href=&quot;&quot; rel=&quot;stylesheet&quot;&gt; &lt;/head&gt; &lt;body&gt; &lt;script src=&quot;http://pv.sohu.com/cityjson?ie=utf-8&quot;&gt;&lt;/script&gt; &lt;script type=&quot;text/javascript&quot;&gt; document.write(returnCitySN[&quot;cip&quot;]); &lt;/script&gt; &lt;/body&gt; &lt;/html&gt; ","link":"https://telnetwork.github.io/IbPlUDAzk/"},{"title":"指定用户运行脚本","content":"#!/bin/bash set -eu # $UID # $EUID # 此处仅限root用户运行此脚本 if [ &quot;$EUID&quot; != &quot;0&quot; ] then echo &quot;Please use root run script!!!&quot; exit 101 fi ","link":"https://telnetwork.github.io/xuoVUhV8h/"},{"title":"F12 网页截图","content":"截图 Ctrl + Shift + I / F12 ——————&gt;&gt; Ctrl+shift+P ——————&gt;&gt; screen // 模拟终端 Ctrl + Shift + M ——————&gt;&gt; Ctrl+shift+P ——————&gt;&gt; screen 整个网页：Capture full size screenshot (截取整个网页，body部分) 节点网页：Capture node screenshot (截取选中的Dom节点) 当前屏幕：Capture screenshot (根据当前当前屏幕的大小,进行截屏) ","link":"https://telnetwork.github.io/wwiQWz-f4/"},{"title":"Docker镜像打包","content":"Docker commit 封装 查看需要打包 Container ID docker ps -a commit 封装 docker commit -a &quot;作者&quot; -m &quot;描述&quot; Container_ID Docker_hub_ID/要打包成的镜像名字:版本号 查看打包好的 容器的镜像ID docker images -a 登录 hub.docker.com docker login 上传镜像到docker_hub 上 docker push Your_Docker_hub_ID/打包好的镜像ID:版本号 例如 [root@node1 09:04 ~]# docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES ea13053bd8c2 centos6.8 &quot;/bin/bash&quot; 15 hours ago Up 15 hours 0.0.0.0:11022-&gt;22/tcp, 0.0.0.0:11080-&gt;80/tcp cos6.8 ... [root@node1 09:04 ~]# docker commit -a &quot;tel&quot; -m &quot;centos6.8&quot; ea13053bd8c2 test001/centos6.8:v1 sha256:32eff43e1476efc957d619a236f91b9e7f01e0651d781303fcbccb0f3e2c1748 查看打包好的 容器的镜像ID [root@node1 09:38 ~]# docker images -a REPOSITORY TAG IMAGE ID CREATED SIZE test001/centos6.8 v1 c037c505ee16 11 hours ago 232MB ... 登录 hub.docker.com [root@node1 09:38 ~]# docker login 上传 [root@node1 09:39 ~]# docker push test001/centos6.8:v1 The push refers to repository [docker.io/test001/centos6.8] 7e4aa4c03d65: Pushing [==================================================&gt;] 231.6MB/231.6MB 62efa4b34c3b: Mounted from test001/centos6.8 ad337ac82f03: Mounted from test001/centos6.8 EOF 上传后，登录 hub.docker.com 查看 ","link":"https://telnetwork.github.io/5tfru9Tjx/"},{"title":"vi中删除空格","content":"删除文件中空行 :%g/^$/d :%g/^\\s\\+$/d :%g/^\\s*$/d // 删除所有的使用这个就好 删除文件行首的所有空格 :%s/^ *//g 删除文件行尾的所有空格 :%s/ *$//g 删除文件行首的所有空格+TAB :%s/^\\s\\+//g or :%s/^\\s*//g 删除文件行尾的所有空格+TAB :%s/\\s\\+$//g or :%s/\\s\\*$//g 将当前文件中的TAB,替换成4个空格 :set expandtab :%ret! 4 TAB转换4个空格，写入vimrc 中，永久生效 set tabstop=4 set expandtab 空格转换为TAB :set ts=4 :set noexpandtab :%retab! 空格：\\s ts == tabstop 加!：用于处理非空白字符之后的 TAB，即所有的 TAB 不加!：则只处理行首的 TAB 指定范围行的前面加 3 个空格 :100,102 s/^/ / 在当前光标所在行，及下面5行的前面写入xxx :.,5 s/^/xxx/ ","link":"https://telnetwork.github.io/NiZXZ5Ihn/"},{"title":"休息休息","content":"吃饱了，才有力气睡觉 ","link":"https://telnetwork.github.io/t1awMY7Y9/"},{"title":"Ubuntu 编译 PHP 7.2.28","content":"安装依赖软件 apt-get install libxml2-dev libjpeg-dev libpng-dev libfreetype6-dev libzip-dev libc-client2007e-dev libglib2.0-dev libpng12-dev libssl-dev zlib1g-dev apt-get install libxtst-dev 编译 libiconv 组件 wget https://ftp.gnu.org/pub/gnu/libiconv/libiconv-1.16.tar.gz tar xf libiconv-1.16.tar.gz &amp;&amp; cd libiconv-1.16 ./configure --prefix=/usr/local ; echo $? make &amp;&amp; make install ldconfig 编译 PHP wget https://www.php.net/distributions/php-7.2.28.tar.gz tar xf php-7.2.28.tar.gz &amp;&amp; cd php-7.2.28 ./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-config-file-scan-dir=/usr/local/php/etc/conf.d --enable-fpm --with-fpm-user=www --with-fpm-group=www --enable-mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --with-iconv-dir --enable-exif --with-freetype-dir --with-jpeg-dir --with-png-dir --with-zlib --with-libxml-dir=/usr --enable-xml --disable-rpath --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --with-curl --enable-mbregex --enable-mbstring --enable-ftp --with-gd --with-openssl --with-mhash --enable-pcntl --enable-sockets --with-xmlrpc --enable-zip --enable-soap --with-gettext --disable-fileinfo --enable-maintainer-zts --disable-debug ; echo $? make install ; echo $? cp php.ini-development /usr/local/php/etc/php.ini // 复制配置文件 报错 1 -- more --&gt;llect2: error: ld returned 1 exit status Makefile:291: recipe for target 'sapi/cli/php' failed make: *** [sapi/cli/php] Error 1 解决： ln -s /usr/local/lib/libiconv.so.2 /lib64/ make ZEND_EXTRA_LIBS='-liconv' -j 1 ; echo $? 报错2 （如果基于CentOS 7 make时报错） 缺少curl扩展包 cURL 7.10.5 or greater... configure: error: cURL version 7.10.5 or later is required to compile php with cURL support 解决： yum -y install curl-devel make 启动脚本 Ubuntu vim /lib/systemd/system/php-fpm.service CentOS vim /usr/lib/systemd/system/php-fpm.service [Unit] Description=The PHP FastCGI Process Manager Documentation=http://php.net/docs.php After=network.target [Service] Type=simple PIDFile=/usr/local/php/var/run/php-fpm.pid ExecStart=/usr/local/php/sbin/php-fpm --nodaemonize --fpm-config /usr/local/php/etc/php-fpm.conf ExecReload=/bin/kill -USR2 $MAINPID LimitNOFILE=1000000 LimitNPROC=1000000 LimitCORE=1000000 [Install] WantedBy=multi-user.target systemctl daemon-reload systemctl start php-fpm systemctl enable php-fpm ","link":"https://telnetwork.github.io/FImup81pN/"},{"title":"CentOS 7 源码编译 Nginx","content":"安装依赖软件 CentOS 7 yum -y install epel-release yum update yum -y install lua-devel patch libtool libtool-ltdl libtool-ltdl-devel libxslt-devel libxslt libxml2 libxml2-devel gd-devel gd GeoIP GeoIP-devel GeoIP-data gperftools gcc gcc-c++ zlib-devel zlib make cmake autoconf openssl openssl-devel libwebp-devel libwebp libvpx perl-devel perl-ExtUtils-Embed autoconf automake gnome-common Ubuntu apt-get update apt-get -y install libgd-dev build-essential zlib1g-dev libpcre3 libpcre3-dev libssl-dev libxslt1-dev libxml2-dev libgeoip-dev libgoogle-perftools-dev libperl-dev libtool openssl gcc g++ google-perftools PCRE wget https://ftp.pcre.org/pub/pcre/pcre-8.41.tar.gz tar -xf pcre-8.41.tar.gz -C /usr/local/ &amp;&amp; cd /usr/local/pcre-8.41 ./configure --enable-utf8 ; echo $? // --enable-utf8：对utf-8的支持 make ; echo $? make install ; echo $? openssl wget https://github.com/openssl/openssl/archive/OpenSSL_1_1_1.tar.gz tar -xf OpenSSL_1_1_1.tar.gz &amp;&amp; mv openssl-OpenSSL_1_1_1 /usr/local/openssl-1.1.1 创建 Nginx 运行用户 groupadd www useradd www -g www -s /sbin/nologin -M 官网下载 Nginx 源码包 wget http://nginx.org/download/nginx-1.16.1.tar.gz tar -xf nginx-1.16.1.tar.gz &amp;&amp; cd nginx-1.16* 扩展模块 1---- headers git clone https://github.com/openresty/headers-more-nginx-module.git /usr/local/ngx_modules/ngx_headers 扩展模块 2 ---- echo git clone https://github.com/openresty/echo-nginx-module.git /usr/local/ngx_modules/ngx_echo 扩展模块 3 ---- brotli git clone https://github.com/google/ngx_brotli.git /usr/local/ngx_modules/ngx_brotli 扩展模块 4 ---- cloudflare-zlib git clone https://github.com/cloudflare/zlib.git /usr/local/ngx_modules/cloudflare_zlib 扩展模块 5 ---- sticky wget https://bitbucket.org/nginx-goodies/nginx-sticky-module-ng/get/master.tar.gz tar xf master.tar.gz mv nginx-goodies-nginx-sticky-module-ng-08a395c66e42 /usr/local/ngx_modules/ngx_sticky 扩展模块 6 ---- luajit wget https://github.com/openresty/luajit2/archive/v2.1-20200102.tar.gz tar xf v2.1-20200102.tar.gz &amp;&amp; mv luajit2-2.1-20200102 /usr/local/ngx_modules/luajit2-2.1 cd /usr/local/ngx_modules/luajit2-2.1 make &amp;&amp; make install echo '/usr/local/lib' &gt;&gt; /etc/ld.so.conf.d/local.conf export LUA_INCLUDE_DIR=/usr/local/include/luajit-2.1 ldconfig 扩展模块 7 ---- lua-cjson wget https://github.com/openresty/lua-cjson/archive/2.1.0.7.tar.gz tar xf 2.1.0.7.tar.gz &amp;&amp; mv lua-cjson-2.1.0.7 /usr/local/ngx_modules/ cd /usr/local/ngx_modules/lua-cjson-2.1.0.7 make &amp;&amp; make install export LUAJIT_LIB=/usr/local/lib export LUAJIT_INC=/usr/local/include/luajit-2.1 扩展模块 8 ---- ngx_devel_kit wget https://github.com/vision5/ngx_devel_kit/archive/v0.3.1.tar.gz tar -xf v0.3.1.tar.gz &amp;&amp; mv ngx_devel_kit-0.3.1 /usr/local/ngx_modules/ 扩展模块 9 ---- lua-nginx wget https://github.com/openresty/lua-nginx-module/archive/v0.10.14.tar.gz tar -xf v0.10.14.tar.gz &amp;&amp; mv lua-nginx-module-0.10.14 /usr/local/ngx_modules/ 为了方便以后重新编译Nginx,将lua变量写入/etc/profile 中 #Lua export LUAJIT_LIB=/usr/local/lib export LUAJIT_INC=/usr/local/include/luajit-2.1 export LUA_INCLUDE_DIR=/usr/local/include/luajit-2.1 扩展模块 10 ---- TCMalloc；Ubuntu 系统可以直接忽略该步骤，以上apt中已安装 # 先编译安装libunwind wget http://mirror.yongbok.net/nongnu/libunwind/libunwind-1.1.tar.gz tar -xf libunwind-1.1.tar.gz &amp;&amp; cd libunwind-1.1 CFLAGS=-fPIC ./configure make CFLAGS=-fPIC make CFLAGS=-fPIC install wget https://github.com/gperftools/gperftools/archive/gperftools-2.7.tar.gz tar -xf gperftools-2.7.tar.gz &amp;&amp; cd gperftools-gperftools-2.7/ ./autogen.sh ./configure --enable-frame-pointers make &amp;&amp; make install ; echo $? # 编译时添加 &quot;--with-google_perftools_module&quot; # 将TCMalloc库加载到Linux系统中 echo '/usr/local/lib' &gt;&gt; /etc/ld.so.conf.d/local.conf ldconfig 编译 Nginx ./configure \\ --add-module=/usr/local/ngx_modules/ngx_echo \\ --add-module=/usr/local/ngx_modules/ngx_brotli \\ --add-module=/usr/local/ngx_modules/ngx_concat \\ --add-module=/usr/local/ngx_modules/ngx_headers_info \\ --add-module=/usr/local/ngx_modules/ngx_sticky_goodies \\ --add-module=/usr/local/ngx_modules/ngx_devel_kit-0.3.1 \\ --add-module=/usr/local/ngx_modules/lua-nginx-module-0.10.14 \\ --user=www \\ --group=www \\ --with-http_v2_module \\ --with-http_ssl_module \\ --with-http_flv_module \\ --with-http_mp4_module \\ --with-http_dav_module \\ --with-http_sub_module \\ --with-http_slice_module \\ --with-http_geoip_module \\ --with-http_realip_module \\ --with-http_gunzip_module \\ --with-http_addition_module \\ --with-http_secure_link_module \\ --with-http_stub_status_module \\ --with-http_degradation_module \\ --with-http_gzip_static_module \\ --with-http_auth_request_module \\ --with-http_image_filter_module \\ --with-http_random_index_module \\ --with-http_perl_module=dynamic \\ --with-http_xslt_module=dynamic \\ --with-stream \\ --with-stream_realip_module \\ --with-stream_ssl_module \\ --with-stream_ssl_preread_module \\ --with-stream_geoip_module \\ --with-debug \\ --with-compat \\ --with-threads \\ --with-file-aio \\ --with-google_perftools_module \\ --with-ld-opt=-ltcmalloc_minimal \\ --with-zlib=/usr/local/ngx_modules/Cloudflare-zlib \\ --with-pcre-jit \\ --with-pcre-opt=-fPIC \\ --with-pcre=/usr/local/pcre-8.41 \\ --with-openssl=/usr/local/openssl-1.1.1 \\ --with-openssl-opt='enable-tls1_3 -fPIC' \\ --without-poll_module \\ --without-select_module \\ --without-http_scgi_module \\ --without-http_uwsgi_module \\ --prefix=/usr/local/nginx \\ --sbin-path=/usr/local/nginx/sbin/nginx \\ --conf-path=/usr/local/nginx/conf/nginx.conf \\ --pid-path=/data/nginx/PID/nginx.pid \\ --lock-path=/data/nginx/PID/nginx.lock \\ --http-log-path=/data/nginx/logs/access.log \\ --error-log-path=/data/nginx/logs/error.log \\ --http-scgi-temp-path=/data/nginx/tmps/scgi \\ --http-proxy-temp-path=/data/nginx/tmps/proxy \\ --http-uwsgi-temp-path=/data/nginx/tmps/uwsgi \\ --http-fastcgi-temp-path=/data/nginx/tmps/fastcgi \\ --http-client-body-temp-path=/data/nginx/tmps/client_body ; echo $? make -j 2 ; echo $? make install ; echo $? 创建目录 mkdir -pv /data/nginx/{tcmalloc,logs/hack,PID,proxy_cache,proxy_temp,tmp/client_body,tmp/fastcgi} chown -R www.www /data/ chmod 0777 /data/nginx/tcmalloc 创建 systemd 服务文件 # CentOS /usr/lib/systemd/system/nginx.service # Ubuntu /lib/systemd/system/nginx.service —————————————————————————————————————————————————————————————————————————————————————————— tee /usr/lib/systemd/system/nginx.service &lt;&lt;-'EOF' [Unit] Description=The nginx HTTP and reverse proxy server After=syslog.target network.target remote-fs.target nss-lookup.target [Service] Type=forking PIDFile=/data/nginx/PID/nginx.pid ExecStartPre=/bin/rm -f /data/nginx/PID/nginx.pid ExecStartPre=/usr/local/nginx/sbin/nginx -t ExecStart=/usr/local/nginx/sbin/nginx ExecReload=/bin/kill -s HUP $MAINPID ExecStop=/bin/kill -s QUIT $MAINPID PrivateTmp=true [Install] WantedBy=multi-user.target EOF # 注意事项 # PIDFile：要和编译时的配置保持一致 # rm：which rm 管理 systemctl daemon-reload systemctl enable nginx systemctl start nginx systemctl stop nginx systemctl restart nginx systemctl reload nginx systemctl force-reload nginx systemctl status nginx 指定动态模块路径 --modules-path=/usr/local/ngx_modules/dynamic 篇幅堆的有点多，模块配置还没有加上，有时间在分割出来 ","link":"https://telnetwork.github.io/centos-7-yuan-ma-bian-yi-nginx/"},{"title":"TCP_IP 元组","content":"TCP/IP 的四元组、五元组、七元组 四元组： 源 IP、目的 IP、源端口、目的端口 五元组： 源 IP、目的 IP、协议号、源端口、目的端口 七元组： 源 IP、目的 IP、协议号、源端口、目的端口，服务类型以及接口索引 ","link":"https://telnetwork.github.io/E7bsHAxU0/"},{"title":"html 简单转换成 jsp","content":"html文件的顶部，加入下面的代码，然后将test.html后缀改为test.jsp即可 &lt;%@ page language=&quot;java&quot; import=&quot;java.util.*&quot; pageEncoding=&quot;GBK&quot;%&gt; ","link":"https://telnetwork.github.io/J6GwFQCpw/"},{"title":"dnsdomainname: Unknown host","content":"dnsdomainname: 主机名搜索失败 DNSmasq启动提示&quot;dnsdomainname: Unknown host&quot; [root@node1 etc]# /etc/init.d/dnsmasq restart dnsdomainname: Unknown host dnsdomainname: Unknown host Shutting down dnsmasq: [ OK ] dnsdomainname: Unknown host Starting dnsmasq: [ OK ] 解决办法: 把主机名加到/etc/hosts文件里面 例如这里的主机名是node1，加到/etc/hosts里面就是 127.0.0.1 node1 重启DNSmasq ","link":"https://telnetwork.github.io/FFox6FRw-/"},{"title":"最小化Linux 安装setup工具","content":" [root@localhost ~]# setup -bash: setup: command not found yum -y install setuptool ntsysv system-config-securitylevel-tui system-config-network-tui authconfig-gtk system-config-keyboard #setup命令工具 setuptool #setup工具配套的系统服务组件 ntsysv #setup工具配套的防火墙配置组件 system-config-securitylevel-tui #setup工具配套的网络配置组件 system-config-network-tui #setup工具配套的验证配置组件 authconfig-gtk #setup工具配套的键盘配置组件 system-config-keyboard ","link":"https://telnetwork.github.io/RYE3H2w_z/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://telnetwork.github.io/hello-gridea/"},{"title":"ulimit 参数调整","content":"vim /etc/security/limits.conf root soft nofile 102400 root hard nofile 102400 root soft nproc 65535 root hard nproc 65535 root soft sigpending 65535 root hard sigpending 65535 * soft sigpending 65535 * hard sigpending 65535 * soft nofile 65535 * hard nofile 65535 * soft nproc 65535 * hard nproc 65535 exec $SHELL ulimit -a ","link":"https://telnetwork.github.io/G0HiGoxH7/"},{"title":"script 终端录屏-回放","content":"记录 mkdir -p -m 777 /var/log/record chattr +a /var/log/record vim /etc/profile if [ $UID -ge 0 ]; then exec /usr/bin/script -t 2&gt;/var/log/record/$USER-$UID-`date +%F-%T`.date -a -f -q /var/log/record/$USER-$UID-`date +%F-%T`.log fi source /etc/profile 回放 scriptreplay xxx.date xxx.log ","link":"https://telnetwork.github.io/rb9ItptzS/"},{"title":"yum update 时 PackageKit 锁定","content":"关闭 PackageKit sed -i 's/enabled=1/enabled=0/' /etc/yum/pluginconf.d/langpacks.conf reboot 如果以上操作不生效 找到 yum pid 直接 kill 掉 或者 rm -f /var/run/yum.pid ","link":"https://telnetwork.github.io/SbR1w31tl/"},{"title":"Tomcat 强制重定向HTTPS","content":"在配置好 Tomcat SSL 证书的前提下，将 HTTP 重定向 HTTPS vi /path/to/tomcat/conf/web.xml &lt;security-constraint&gt; &lt;web-resource-collection&gt; &lt;web-resource-name &gt;SSL&lt;/web-resource-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/web-resource-collection&gt; &lt;user-data-constraint&gt; &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt; &lt;/user-data-constraint&gt; &lt;/security-constraint&gt; :wq 重启 Tomcat ","link":"https://telnetwork.github.io/GFWEdWHeu/"},{"title":"华为Switch VLAN-Trunk","content":" &lt;Huawei&gt;undo terminal monitor \\\\ 关闭信息提示 # Cisco的防弹信息提示:logging synchronous # Cisco关闭域名查询：no ip domain-lookup # Cisco设置控制台会话永不超时：no exec-time &lt;Huawei&gt;system-view [Huawei]sysname SW1 华为 Switch S3700 三层交换 配置 Trunk 时报错 [SW1-Ethernet0/0/15]port link-type trunk // 更改接口链路类型为trunk Error: Please renew the default configurations.（错误：请更新默认配置.） # 需要一层一层的来删除配置，直到恢复到默认的配置. 从后往前回滚配置 [SW1]interface Ethernet 0/0/15 // 进入接口 [SW1-Ethernet0/0/15]undo port default vlan 11 // 将该接口从 vlan 11 中移除 [SW1-Ethernet0/0/15]undo port link-type // 恢复该接口为默认链路类型，华为交换机的接口默认是Hybrid类型的，而Hybrid类型的接口不允许使用VLAN视图下的port命令来添加端口。只有Access类型的接口支持VLAN视图下的port命令来添加 [SW1-Ethernet0/0/15]port link-type trunk // 更改接口链路类型为trunk [SW1-Ethernet0/0/15]port trunk allow-pass vlan 11 12 // vlan all 代表所有 [SW1-Ethernet0/0/15]display this // 查看当前下的配置 [SW1-Ethernet0/0/15]quit [SW1]display current ... 接口加入 VLAN &lt;SW1&gt;sys [SW1]vlan 10 // 创建 VLAN 10，并进入了vlan 10 [SW1-valn10]quit // 返回配置模式 [SW1]interface Ethernet 0/0/15 // 进入15接口 [SW1-Ethernet0/0/15]port link-type access // 配置接口链路类型 [SW1-Ethernet0/0/15]port default vlan 10 // 将15接口加入VLAN 10 将多个接口加入到 VLAN 中 &lt;SW1&gt;sys [SW1]vlan 10 [SW1-vlan 10]prot Ethernet 0/0/1 to 0/0/14 //将1口到14口加入到vlan10中 # 此处会报错：Error: Trunk or Hybrid port(s) can not be added or deleted in this manner. # 需要将端口类型更改为：access # 可采用端口组的方式操作 # 注意如果其中某个接口已经有了其他配置，需要先清除该接口的配置（恢复缺省配置），再将该接口加入port-group # 清除接口配置：[SW1]clear configuration interface Ethernet 0/0/1，输入 y # 因清除接口下的配置后为shuadown(关闭)状态，需要 undo shutdown 开启接口 [SW1-valn 10]quit 配置 vlan 管理 IP &lt;SW1&gt;sys [SW1]int Vlanif 10 [SW1-Vlanif10]ip address 10.10.10.254 255.255.0.0 [SW1-Vlanif10]quit 配置默认网关 &lt;SW1&gt;sys [SW1]ip route-static 0.0.0.0 0.0.0.0 10.10.10.1 保存配置，重置配置 &lt;SW1&gt;save // 保存配置 &lt;SW1&gt;reset saved-configuration // y 重置配置，恢复出厂设置 &lt;SW1&gt;reboot // 重启，重启后要确认配置是否已经初始化了. 补充 VLAN &lt;SW1&gt;sys [SW1]undo vlan10 // 删除vlan 10 [SW1]vlan batch 10 to 20 // 批量创建连续的VLAN [SW1]vlan batch 20 60 80 // 批量创建不连续的VLAN [SW1]undo vlan batch 10 to 20 // 批量删除连续的VLAN [SW1]undo vlan batch 20 60 80 // 批量删除不连续的VLAN [SW1]display vlan port-group，华为没有 range 命令，由端口组代替 &lt;SW1&gt;sys [SW1]port-group test01 //创建组 id为 test01 [SW1-port-group-test01]group-member Ethernet 0/0/1 to Ethernet 0/0/3 //将连续的接口，加入test01组成为test01组成员 [SW1-port-group-test01]port link-type access //更改链路类型为：access，会应用到test01组中的所有接口上 [SW1-port-group-test01]port default vlan 10 //将 test01组 加入VLAN 10 [SW1]display port-group all //查看组的信息 # 如果单独修改了端口组中的某个接口的配置，是不会影响其他端口的 # 临时端口组配置 # [SW1]port-group group-member Ethernet 0/0/1 to Ethernet 0/0/3 7 # 其他的操作与永久端口组配置一样 VLAN 间互通 现在大部分三层交换机默认都是VLAN互通的 vlna只要配置了地址，那么不同vlan之间就会生成静态路由，不做ACL的话，默认这两个网络是通的，而且是通过三层的方式互通 ","link":"https://telnetwork.github.io/YobhAJRVQ/"},{"title":"HW-Switch-查看用户界面信息","content":"display user-interface ","link":"https://telnetwork.github.io/G96wPXBr7/"},{"title":"华为交换配置SSH登录","content":" 生成本地密钥对 &lt;Huawei&gt;sys [Huawei]rsa local-key-pair create The key name will be: Huawei_Host The range of public key size is (512 ~ 2048). NOTES: If the key modulus is greater than 512, it will take a few minutes. Input the bits in the modulus[default = 512]:1024 Generating keys... ............................++++++ ...++++++ ..++++++++ ......++++++++ 配置 VTY 用户界面 [Huawei]user-interface vty 0 4 [Huawei-ui-vty0-4]authentication-mode aaa [Huawei-ui-vty0-4]protocol inbound ssh [Huawei-ui-vty0-4]quit 创建 SSH 用户，并配置用户的认证方式为：password [Huawei]ssh user shxke authentication-type password 配置 SSH 用户及密码 [Huawei]aaa [Huawei-aaa]local-user shxke password cipher shxke Info: Add a new user. [Huawei-aaa]local-user shxke privilege level 3 [Huawei-aaa]local-user shxke service-type ssh [Huawei-aaa]quit 开启 STelent 功能，并配置用户的服务类型为 STelnet [Huawei]stelnet server enable Info: Succeeded in starting the Stelnet server. [Huawei]ssh user shxke service-type stelnet end ","link":"https://telnetwork.github.io/GuyMfUdDd/"},{"title":"Tomcat 加速启动","content":"修改 JDK 配置文件 vi /path/to/jdk/jre/lib/security/java.security securerandom.source=file:/dev/urandom 重启 Tomcat ","link":"https://telnetwork.github.io/yhEQlAM4W/"},{"title":"三层网络结构（核心 汇聚 接入）","content":"三层网络结构： 三层网络结构是采用层次化架构的三层网络。 三层网络架构采用层次化模型设计，即将复杂的网络设计分成几个层次，每个层次着重于某些特定的功能，这样就能够使一个复杂的大问题变成许多简单的小问题。 三层网络架构设计的网络有三个层次： 核心层（网络的高速交换主干） 汇聚层（提供基于策略的连接） 接入层 （将各种主机，工作设备接入网络） 1. 核心层： 核心层是网络的高速交换主干，对整个网络的连通起到至关重要的作用。核心层应该具有如下几个特性：可靠性、高效性、冗余性、容错性、可管理性、适应性、低延时性等。在核心层中，应该采用高带宽的千兆以上交换机。因为核心层是网络的枢纽中心，重要性突出。核心层设备采用双机冗余热备份是非常必要的，也可以使用负载均衡功能，来改善网络性能。网络的控制功能最好尽量少在骨干层上实施。核心层一直被认为是所有流量的最终承受者和汇聚者，所以对核心层的设计以及网络设备的要求十分严格。核心层设备将占投资的主要部分。 2. 汇聚层： 汇聚层是网络接入层和核心层的“中介”，就是在工作站接入核心层前先做汇聚，以减轻核心层设备的负荷。汇聚层必须能够处理来自接入层设备的所有通信量，并提供到核心层的上行链路，因此汇聚层交换机与接入层交换机比较，需要更高的性能，更少的接口和更高的交换速率。汇聚层具有实施策略、安全、工作组接入、虚拟局域网（VLAN）之间的路由、源地址或目的地址过滤等多种功能。在汇聚层中，应该采用支持三层交换技术和VLAN的交换机，以达到网络隔离和分段的目的。 3. 接入层： 通常将网络中直接面向用户连接或访问网络的部分称为接入层，接入层目的是允许终端用户连接到网络，因此接入层交换机具有低成本和高端口密度特性。我们在接入层设计上主张使用性能价格比高的设备。接入层是最终用户(教师、学生) 与网络的接口，它应该提供即插即用的特性，同时应该非常易于使用和维护，同时要考虑端口密度的问题。 接入层为用户提供了在本地网段访问应用系统的能力，主要解决相邻用户之间的互访需求，并且为这些访问提供足够的带宽，接入层还应当适当负责一些用户管理功能（如地址认证、用户认证、计费管理等），以及用户信息收集工作（如用户的IP地址、MAC地址、访问日志等）。 对于网络规模小，联网距离较短的环境，可以采用“收缩核心”设计。忽略汇聚层，核心层设备可以直接连接接入层，这样一定程度上可以省去部分汇聚层费用，还可以减轻维护负担，更容易监控网络状况。我们单位多年来，一直采用“收缩核心”网络架构，运行良好。 ","link":"https://telnetwork.github.io/rMIHGQgvP/"},{"title":"防火墙发展简述","content":" Firewall 隔离本地（内部，所要保护的）网络和外界网络的安全防御系统，是一道安全屏障 目的： 防止来自外部用户对这块区域的访问，如果攻击发生在内部是不可行的，防外不防内。 主要用于保护一个网络区域免受另一个网络区域的网络攻击和网络入侵行为。 rule Firewall 对进出网络的流量进行控制，基于安全策略（规则-rules） 规则是有顺序的，规则匹配即停止，不再往下检测 操作方式 底层操作系统大部分都是基于 Linux 开发，配置 基于命令行、Web 界面 发展历程 第一代： 包过滤------iptables--1989 软件防火墙 对数据包的报头（三层、四层）做检查，但不检查内容，对用一些应用层的攻击无能为力 主要基于数据包中的源/目的 IP 地址、源/目的端口号、IP 标识和报文传递的方向等信息 基于传统的五元组 第二代 应用代理（proxy）----ISA\\TMG（微软早期的防火墙） 软件防火墙 代理服务器位于客户机与服务器之间完全阻挡二者间的数据流 第三代：状态检测---TMG、ASA（cisco） 对数据包的会话状态做记录 状态化防火墙维护一个关于用户信息的连接表，称为 Conn 表 Conn 表中的关键信息 ---源 IP 地址 ---目的 IP 地址 ---IP 协议（例：TCP、UDP） ---IP 协议信息（例：TCP/UDP 端口号，TCP 序列号，TCP 控制位） 默认情况下，ASA 对 TCP 和 UDP 协议提供状态化连接，但 ICMP 协议是非状态化的 第四代：UTM------统一 威胁 管理 2004year 多种安全技术集于一身，将传统防火墙、入侵检测、防病毒、URL 过滤、应用程序控制、邮件过滤、VPN 等功能融合到一台（安全功能的叠加） 第五代：NGFW------下一代防火墙 在传统防火墙的基础上，基于用户 + 应用 + 内容进行管控，管理更细，管理深度强（基于整个七层做防护）（颗粒化） Palo Alto----下一代防火墙的鼻祖 ","link":"https://telnetwork.github.io/RQ_S1Sf8Q/"},{"title":"《疯娘》","content":" 作者：王恒绩 此文被评为全国 “敬老好文章” 全国一等奖，并被编入了大学语文，同时被海内外五六十家影视公司抢购影视版权，还被翻译成了 40 多国文字。 01 我们全家至今都不知娘是哪里人，叫什么名字，为什么疯了？ 23 年前，有个年青的女子流落到我们村，她衣衫褴褛，蓬头垢面，见人就傻笑，且毫不避讳地当众小便，村里一些男人也就常围着她转。 因此，村里的媳妇们常对着那女子吐口水，有的媳妇还上前踹她几脚，叫她 “滚远些”。 可她就是不走，依然傻笑着在村里转悠。 那时，我父亲已有 35 岁，他曾在石料场被机器绞断了左手而截肢，又因家穷，一直没能娶亲。 奶奶见那女子还有几分长相，就动了心思，围着那疯女人转了三圈， 点点头说：“嗯，不错，一看就能生娃。” 奶奶决定收下她给我父亲做媳妇，等她给我家传个香火后，再看情况是否把她撵走。父亲虽老大不情愿，但看着家里这番光景，咬咬牙还是答应了。结果，父亲一分钱未花，就当了新郎。 不用说，这女子后来就成了我的亲娘。 02 生我的时候，娘疼得死去活来，“嗷嗷” 乱叫。 奶奶在房里点了三柱香，念了半天祷告。 然后，两个接生婆一左一右夹住娘，强行让娘双手扒在梯档上，双腿下蹲，娘胯下还放着一个木制大脚盆，里面放着好几刀草纸和软布。 接生婆不管娘能不能领会她们的意思，一个劲地叮嘱娘：“用劲，再用劲。用劲呀，疯婆娘……” 这场生产耗时 7 个多小时，娘就那么扒在梯档上 “挂” 了 7 小时。 当娘胯下终于传来我响亮的啼哭声时，两个老天八地的接生婆累得瘫在地上动弹不得，还是奶奶为我剪的脐带。 而被接生婆管制了 7 小时的娘也因获得了解放而大哭起来。 奶奶抱着我，瘪着没剩几颗牙的嘴欣喜地说：“这疯婆娘，还给我生了个带把的孙子。” 奶奶用一瓦罐母鸡汤犒劳了娘。那天，娘少有地、安安静静地偎坐在床上，被子上面搁着个小盆，奶奶端着海大一碗鸡汤给娘说：“好好拿着， 别泼了。骨头渣吐在这个盆子里，听见没有？要不听话，我就打你。” 奶奶半恐吓半认真地说。 娘接过鸡汤，居然点了点头。她抓起一只鸡腿，啃得满嘴流油。娘还真听话，将鸡骨头规规矩矩地吐在盆子里。那一大碗汤她吃得精光。 03 只是，我一生下来，奶奶就把我抱走了，而且从不让娘拢边。 不怪奶奶绝情，我们村曾发生过这样一起惨剧：有个女人嫁给我们村的一个单身汉，女人虽不是疯子，却是弱智。生下一个儿子后，竟在夜里睡觉时翻身压死了儿子，女人被男方暴打一顿后，撵出了门。 有这样的例子在前，奶奶岂敢大意？娘一直想抱抱我，多次在奶奶面前吃力地喊：“给，给我……” 奶奶没理她。我那么小，像个肉嘟嘟，万一娘失手把我丢在地上怎么办？毕竟，娘是个疯子。 每当娘有抱我的请求时，奶奶总竖起眼睛训她：“你别想抱孩子了，我不会给你的。要是我发现你偷抱了他，我就打死你。即使不打死，我也要把你撵走。” 奶奶说这话时，没有半点含糊的意思。 娘听懂了，满面的惶恐，每次只是远远地看我。尽管娘的奶水胀得厉害，可我没能吃到娘的半口奶水，是奶奶一匙一匙把我喂大的。 原来，奶奶说娘的奶水里有 “神经病”，要是传染给我就麻烦了。 04 这个疯子娘我不要了那时，我家依然在贫困的泥沼里挣扎。特别是添了娘和我后，家里常常揭不开锅。奶奶决定把娘撵走，因为娘不但在家吃 “闲饭”，时不时还惹事生非。 一天，奶奶煮了一大锅饭，亲手给娘添了一大碗，说：“媳妇儿，这个家太穷了，婆婆对不起你。你吃完这碗饭，就去找个富点的人家过，以后也不准来了，啊？” 娘刚扒了一大团饭在口里，听了奶奶下的 “逐客令”，显得非常吃惊，一团饭就在口里凝滞了。 娘望着奶奶怀中的我，口齿不清地哀叫：“不，不要……” 奶奶猛地沉下脸，一下拿出威严的家长作风厉声吼道：“你个疯婆娘，犟什么犟，犟下去没你的好果子吃。你本来就是到处流浪的，我收留了你一两年，你还要怎么样？吃碗饭就走，听见没有？” 奶奶从门后拿出一柄挖锄，像佘太君的龙头杖似的往地上重重一磕，“咚” 地发出一声沉闷的暗响。 娘吓了一大跳，怯怯地看看婆婆，又慢慢低下头去看面前的饭碗，有泪水当当地落在白花花的米饭上。 在奶奶的逼视下，娘突然有个很奇怪的举措，她将碗中的饭分了一大半给另一只空碗，然后可怜巴巴地看着奶奶。 奶奶呆了，原来，娘是向奶奶表态，每餐只吃半碗饭，只求别赶她走。奶奶的心仿佛被人狠狠揪了几把，奶奶也是女人，她的强硬态度也是装出来的。 奶奶别过头，生生地将热泪憋了回去，然后重新板起脸说：“快吃快吃，吃了快走。在我家你会饿死的。” 娘似乎绝望了，连那半碗饭也没吃，踉踉跄跄地出了门，却长时间站在门前不走。奶奶硬着心肠说：“你走你走，不要回头。天底下富裕家多着哩！” 娘反而走拢来，一双手伸向婆婆怀里，原来，娘想抱抱我。 奶奶犹豫了一下，还是将襁褓中的我递给了娘。 娘第一次将我搂在怀里，咧开嘴笑了，笑得春风满面。奶奶却如临大敌，两手在娘身下接着，生怕娘的疯劲一上来，将我像扔垃圾一样丢掉。 娘抱我的时间不足 3 分钟，奶奶便迫不及待地将我夺过去，然后转身进屋关门… 05 娘终于走了，可走了娘的家还是没法走出贫困。我家依然过着 “日愁三餐，夜愁一宿” 的生活。 当然，这些我记忆之前的故事都是奶奶告诉我的。 当我懵懵懂懂地晓事时，我才发现，除了我，别的小伙伴都有娘。我找父亲要，找奶奶要，他们说，你娘死了。可小伙伴却告诉我：“你娘是个疯子，被你奶奶赶走了。” 我便找奶奶扯皮，要她还我娘，还骂她是 “狼外婆”，甚至将她端给我的饭菜泼了一地。 奶奶生平第一次打了我，还万般委屈地抹起了泪：“小兔崽子，你娘除了生你，什么都没干，都是奶奶把你拉扯大的。你倒好，恩将仇报。早知道，就让你那疯子娘把你一起带走。” 那时我还没有 “疯” 的概念，只知道非常思念娘，她长什么样，还活着吗？ 没想到，在我六岁那年，离家 5 年的娘居然回了。 06 那天，几个小伙伴飞也似地跑来给我报信：“小树，快去看，你娘回了，你的疯子娘回了。” 我喜得屁颠屁颠的，撒腿就往外跑，父亲和奶奶跟随着我追出来了。 这是我有了记忆后第一次看到娘。她还是破衣烂衫，头发上还有些枯黄的碎草末，天知道是在哪个草堆里过的夜。 娘不敢进家门，却面对着我家，坐在村前稻场的石磙上，手里还拿着个脏兮兮的气球。 当我和一群小伙伴站在她面前时，她急切地从我们中间搜寻她的儿子，娘终于盯着我，死死地盯住我，咧着嘴叫我：“小树…… 球…… 球……” 娘站起身，不停地扬着手中的气球，讨好地往我怀里塞。 我却一个劲地往后退。我大失所望，没想到我日思夜想的娘居然是这样一副形象。早知道疯子娘是这个样子，我思念她干啥？ 一个小伙伴在一旁起哄说：“小树，你现在知道疯子是什么样吧？就是你娘这样的。” 我气愤地对小伙伴说：“她是你娘！你娘才是疯子，你娘才是这个样子。” 我扭头就走了。这个疯子娘我不要了。 出人意料，奶奶和父亲却把娘领进了门。当年，奶奶撵走娘后，乡亲们议论很多，奶奶的良心受到了拷问，随着一天天衰老，她的心再也硬不起来，所以主动留下了娘，而我老大不乐意，娘丢了我的面子。 这是我会说话以来第一次喊娘，我从没给娘好脸色看，从没跟她主动说过话，更别想我喊她一声 “娘”，我们之间的交流是以我 “吼” 为主，娘是绝不敢顶嘴的。 家里不能白养着娘。奶奶决定训练娘做些杂活，下地劳动时，奶奶就带娘出去 “观摩”，说不听话就要挨打。 虽然真要打起来，奶奶远远不是娘的对手，可娘对奶奶噤若寒蝉，娘再疯，也知道这个头发花白、走路蹒跚的婆婆操纵着自己的 “生杀大权”，千万惹不得。 奶奶叫娘割草，她就割草；叫她捡柴她就去捡柴。 过了些时日，奶奶以为娘已被自己训练得差不多，就叫娘单独出去割猪草。没想到，娘只用了半小时就割了两筐 “猪草”，奶奶一看，又急又慌，娘割的是人家田里正生浆拔穗的稻谷。 奶奶气急败坏地骂她 “疯婆娘”“谷草不分”“活着是造粪”…… 奶奶正想着如何善后时，稻田的主人找来了，竟说是奶奶故意教唆的。奶奶火冒三丈，当着人家的面拿出根棒槌一下敲在娘的后腰上，说：“打死你这个疯婆娘，你跟老娘滚远些……” 娘虽疯，疼还是知道的，她一跳一跳地躲着奶奶的棒槌，口里不停地发出 “别、别” 的哀号。 最后，人家看不过眼，主动说：“算了，我们不追究了。以后把她看严点就是……” 这场风波平息后，娘歪在地上抽泣着。我鄙夷地对她说：“草和稻子都分不清，你真是个猪。” 话音刚落，我的后脑勺挨了一巴掌，是奶奶打的。 奶奶瞪着眼骂我：“小兔崽子，你怎么在说话？再怎么着，她也是你娘啊！” 我不屑地嘴一撇：“我没有这样的傻疯娘！” “嗬，你真是越来越得志了，看我不打死你。” 奶奶又举起了巴掌，这时只见娘像弹簧一样从地上跳起，横在我和奶奶中间，娘指着自己的头，“打我、打我” 地叫着。 我懂了，娘是叫奶奶打她，别打我。 奶奶举在半空中的手颓然垂下，嘴里喃喃地说道：“这个疯婆娘，心里其实有数啊！” 07 我上学不久，父亲被邻村一位养鱼专业户请去守鱼池，除混个一日三餐，每月还能赚 50 元工钱，家里这才稍稍缓口气，起码粮食够吃了。 娘仍然在奶奶的带领下出门干活，主要是打猪草，没再惹什么大的乱子。 记得我读小学三年级的一个冬日，天空突然下起了雨，奶奶让娘给我送雨伞。娘可能一路摔了好几交，浑身像个泥猴似的，她站在教室的窗户旁望着我傻笑，口里还叫：“树…… 伞……” 一些同学嘻嘻地笑，我羞得面红耳热，冲她挥挥手，让她走开些。 娘不为所动，依然站在那里喊：“树…… 伞……” 班上最调皮的范嘉喜还刻意模仿娘那含糊不清的叫声：“树…… 伞……” 这一学，全班都哄堂大笑。 我如坐针毡，对娘恨得牙痒痒，恨她不识相，恨她给我丢人，更恨带头起哄的范嘉喜。 当他还在夸张地模仿时，我抓起面前的文具盒，猛地向他砸过去，却被范嘉喜躲过了，他冲上前来掐住我的脖子，我俩厮打起来。 我个小，根本不是他的对手，被他轻易压在地上。这时，只听教室外传来 “嗷” 的一声长啸，娘像个大侠似的飞进来，一把抓起范嘉喜，拖到了屋外。都说疯子力气大，真是不假。 娘双手将欺负我的范嘉喜举向半空，他吓得哭爹喊娘，一双胖乎乎的小腿在空中乱踢蹬。娘毫不理会，居然将他丢到了学校门口的水塘里，然后拍拍手，一脸漠然地走开。 我被娘的行为吓得呆若木鸡，甚至忘记了呼救。那天，所有老师都在校长办公室开会，对这里发生的一幕毫不知情。 幸亏学校烧饭的大师傅将范嘉喜从水塘里捞了起来，那个调皮蛋冻得全身青紫，身上还有挂伤，被后来赶到的老师们送到了卫生院… 08 娘为我闯了大祸，她却像没事似的。在我面前，娘又恢复了一副怯怯的神态，讨好地看着我。 我明白这就是母爱，即使神智不清，母爱也是清醒的，因为她的儿子遭到了别人的欺负。 当时我就情不自禁地叫了声：“娘！” 这是我会说话以来第一次喊她，娘浑身一震，久久地看着我，然后像个孩子似的羞红了脸，咧了咧嘴，傻傻地笑了。 那天，我们母子俩第一次共撑一把伞回家。娘的一双腿在泥泞的路上呼呼地、有力地往前行，将那泥浆踩得四处飞溅。 我把这事跟奶奶说了，奶奶吓得跌倒在椅子上，连忙去把爸爸叫了回来。 爸爸刚进屋，一群拿着刀棒的壮年男人闯进我家，不分青红皂白，先将锅瓢碗盏砸了个稀巴烂，家里像发生了九级地震。 这都是范嘉喜家请来的人，范父恶狠狠地指着爸爸的鼻子说：“我儿子吓出了精神病，现在卫生院躺着。你家要不拿出 1000 块钱的医药费，我他妈一把火烧了房子去逑。” 1000 块？爸爸每月才 50 元钱啊！看着杀气腾腾的范家人，爸爸的眼睛慢慢烧红了，他用非常恐怖的目光盯着娘，一只手飞快地解下腰间的皮带，劈头盖脑地向娘打去。 一下又一下，娘像一只惶惶偷生的老鼠，又像一只跑进了死胡同的猎物，无助地跳着、躲着，她发出的凄厉叫声以及皮带抽在她身上发出的那种声响，我一辈子都忘不了。 最后还是派出所所长赶来制止了爸爸施暴的手。 调解结果是，双方互有损失，两不亏欠，谁再闹就抓谁！ 派出所在乡下拥有绝对的权威，范家人走后，爸看着满屋狼籍的锅碗碎片，又看着伤痕累累的娘，他突地将娘搂在怀里痛哭起来，说：“疯婆娘，不是我硬要打你，我要不打你，这事下不了地，咱们没钱赔人家啊。这都是家穷惹的祸！” 爸又看着我说：“树儿，你一定要好好读书考大学。要不，咱们就这样被人欺侮一辈子呀！” 我懂事地点点头。从此，我读书可以用 “玩命” 来形容。 09 2000 年夏，我以优异成绩考上了高中，积劳成疾的奶奶却不幸去世，家里的日子更难了。 恩施州民政部门将我家列为特困家庭，每月补贴 40 元钱，我所在的高中也适当地减免了我的学杂费，我这才得以继续读下去。 由于是住读，学业又抓得紧，我很少回家。父亲依旧在为 50 元打工，为我送菜的担子就责无旁贷地落在娘身上。 每次总是隔壁的婶婶帮忙为我炒好咸菜和青菜，然后交给娘送去。二十公里的羊肠山路亏娘记下来，她每个星期天为我送一次，风雨无阻。也真是怪，凡是为儿子的事，她一点也不疯。 除了母爱，我无法解释这种现象在医学上应该怎么破译。 2003 年 4 月 27 日，又是一个星期天，娘来了，不但为我送来了菜，还带来十多个野鲜桃，我拿起一个，咬了一口，笑着问她：“挺甜的，哪来的？” 娘说：“我…… 我摘……” 没想到娘还会摘野桃，我由衷地表扬她：“娘，您真是越来越能干了。” 娘嘿嘿地笑了。娘临走前，我照例叮嘱她注意安全，娘哦哦地应着。 送走娘，我又扑进了高考前的最后总复习中。 第二天，我正在上课，婶婶匆匆地赶到学校，让老师将我喊出教室。婶婶问我娘送菜来没有，我说送了，她昨天就回去了。婶婶说：“没有，她到现在还没回家。” 我心一紧，娘该不会走岔道吧？可这条路她走了三年，照理不会错啊 。 婶婶问：“你娘没说什么？” 我说没有，她给我带了十几个野鲜桃哩。婶婶两手一拍：“坏了，坏了，可能就坏在这野桃上。” 婶婶为我请了假，我们沿着山路往回找，回家的路上确有几棵野桃树，因长在峭壁上才得以生存下来。 我们同时发现了一棵桃树有枝丫折断的痕迹，脚下是百丈深渊。婶婶看了看我，说：“我们弯到峭壁底下去看看吧！” 我说：“婶婶，您别吓我，我娘不会……” 婶婶不容分说，拉着我就往山谷里走…… 娘静静地躺在谷底，周边是一些散落的桃子，她手里还紧紧攥着一个，身上的血早就凝固成了沉重的黑色。 我悲痛得五脏俱裂，紧紧地抱住娘，说：“娘啊，我的苦娘啊，儿悔不该说这桃子甜啊，是儿要了您的命。娘啊，您怎么不答应我？您活着没享一天福啊……” 娘再也不会回答我，再也听不见儿的呼唤，再也不能为我送饭送菜，我将头贴在娘冰冷的脸上，哭得漫山遍野的石头陪着我落泪…… 2003 年 8 月 7 日，我在娘下葬后的第 100 天时，湖北一家大学烫金的录取通知书穿过娘所走过的路，穿过那几株野桃树，穿过村前的稻场径直飞进了我家门。 我神情凛然地把这份迟来的鸿书插向娘亲冷寂的坟头：“娘，儿出息了，您听到了吗？您可以含笑九泉了！娘啊…” ","link":"https://telnetwork.github.io/OFw4xYCiU/"}]}